<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GAANYOGI | Premium Tours & Trusted Rides</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Splide Slider -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">

    <style>
        /* Premium Color Palette */
        :root {
            --electric-blue: #00a8e8;
            --tea-green: #d4e09b;
            --cream: #fdf7ec;
            --sunset: #ff6b6b;
            --melon: #ff9a8b;
            --midnight: #1a1a2e;
            --slate: #394867;
            --gold: #FFD700;
            --platinum: #E5E4E2;
        }

        body {
            background-color: var(--cream);
            color: var(--midnight);
            font-family: 'Manrope', sans-serif;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Premium Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 168, 232, 0.1);
        }

        .glass-dark {
            background: rgba(26, 26, 46, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Premium Animations */
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(1deg); }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        .animate-fade-up {
            animation: fadeInUp 0.8s ease-out;
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-shimmer {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
        }

        /* Premium Cards */
        .premium-card {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(0, 168, 232, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        }

        .premium-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 25px 60px rgba(0, 168, 232, 0.15);
            border-color: rgba(0, 168, 232, 0.3);
        }

        .tour-card {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s ease;
            border: 2px solid transparent;
        }

        .tour-card:hover {
            border-color: var(--electric-blue);
            transform: scale(1.02);
        }

        /* Premium Gradients */
        .gradient-primary {
            background: linear-gradient(135deg, var(--electric-blue) 0%, #0097d6 100%);
        }

        .gradient-sunset {
            background: linear-gradient(135deg, var(--sunset) 0%, var(--melon) 100%);
        }

        .gradient-gold {
            background: linear-gradient(135deg, var(--gold) 0%, #FFA500 100%);
        }

        .gradient-premium {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        /* Custom Scrollbar */
        .premium-scrollbar::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        .premium-scrollbar::-webkit-scrollbar-track {
            background: rgba(0, 168, 232, 0.05);
            border-radius: 10px;
        }
        
        .premium-scrollbar::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--electric-blue), var(--tea-green));
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .premium-scrollbar::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--sunset), var(--melon));
        }

        /* Skeleton Loader */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        /* Premium Button */
        .btn-premium {
            background: linear-gradient(135deg, var(--electric-blue) 0%, #0097d6 100%);
            color: white;
            padding: 16px 32px;
            border-radius: 50px;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 168, 232, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 168, 232, 0.4);
        }

        .btn-premium:active {
            transform: translateY(0);
        }

        .btn-premium::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
        }

        .btn-premium:hover::after {
            animation: shimmer 1.5s infinite;
        }

        /* Mobile Optimizations */
        .mobile-tap {
            min-height: 48px;
            min-width: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bottom-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 168, 232, 0.1);
            box-shadow: 0 -5px 25px rgba(0, 0, 0, 0.1);
        }

        /* Premium Badges */
        .badge-premium {
            background: linear-gradient(135deg, var(--gold), #FFA500);
            color: var(--midnight);
            font-weight: 700;
            font-size: 10px;
            letter-spacing: 1px;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        /* Testimonial Cards */
        .testimonial-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(0, 168, 232, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .testimonial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0, 168, 232, 0.1);
        }

        /* Update Section */
        .update-card {
            background: linear-gradient(135deg, rgba(212, 224, 155, 0.1), rgba(0, 168, 232, 0.1));
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(0, 168, 232, 0.2);
            transition: all 0.3s ease;
        }

        .update-card:hover {
            background: linear-gradient(135deg, rgba(212, 224, 155, 0.2), rgba(0, 168, 232, 0.2));
            transform: translateY(-3px);
        }

        /* Step Indicator */
        .step-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--cream);
            border: 2px solid var(--electric-blue);
            color: var(--electric-blue);
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step-indicator.active {
            background: var(--electric-blue);
            color: white;
            transform: scale(1.1);
        }

        .step-indicator.completed {
            background: var(--tea-green);
            border-color: var(--tea-green);
            color: var(--midnight);
        }

        /* Map Container */
        #map {
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            border: 2px solid rgb(94, 222, 14);
        }

        /* Rating Stars */
        .rating-stars {
            color: var(--gold);
            display: inline-flex;
            gap: 2px;
        }

        /* Section Spacing */
        .section-spacing {
            padding-top: 80px;
            padding-bottom: 80px;
        }

        @media (max-width: 768px) {
            .section-spacing {
                padding-top: 60px;
                padding-bottom: 60px;
            }
        }

        /* Hide Scrollbar */
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        /* Logo Animation */
        .logo-img {
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .logo-img:hover {
            transform: scale(1.1) rotate(5deg);
            filter: drop-shadow(0 6px 12px rgba(0, 168, 232, 0.3));
        }

        /* Toast Container */
        #toast-container {
            z-index: 9999;
        }

        /* AI Chat Window */
        .chat-window {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 168, 232, 0.2);
            box-shadow: 0 20px 60px rgba(0, 168, 232, 0.15);
        }
    </style>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Manrope', 'sans-serif'], 
                        serif: ['Playfair Display', 'serif'] 
                    },
                    colors: {
                        'electric': '#00a8e8',
                        'teagreen': '#d4e09b',
                        'cream': '#fdf7ec',
                        'sunset': '#ff6b6b',
                        'melon': '#ff9a8b',
                        'midnight': '#1a1a2e',
                        'slate': '#394867',
                        'gold': '#FFD700',
                        'platinum': '#E5E4E2'
                    },
                    animation: {
                        'fade-up': 'fadeInUp 0.8s ease-out',
                        'float': 'float 6s ease-in-out infinite',
                        'shimmer': 'shimmer 2s infinite',
                    },
                    backgroundImage: {
                        'gradient-premium': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    }
                }
            }
        }
    </script>
</head>
<body class="antialiased min-h-screen flex flex-col">
    <!-- Premium Navigation -->
    <nav class="glass fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-3 rounded-3xl">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <div class="flex items-center gap-3 cursor-pointer group" onclick="router.navigate('home')">
                    <div class="relative">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkxu33iPyC1P4owLKMzPJb_c-8P7p37rV01g&s" 
                             alt="GAANYOGI Logo" 
                             class="logo-img w-12 h-12 object-contain">
                        <div class="absolute inset-0 bg-gradient-to-br from-electric/20 to-teagreen/20 rounded-full blur-sm group-hover:blur-md transition-all duration-300"></div>
                    </div>
                    <div>
                        <h1 class="text-2xl font-serif font-bold tracking-wider text-midnight">GAANYOGI</h1>
                        <p id="nav-subtitle" class="text-xs text-electric font-semibold uppercase tracking-[0.2em]">Premium Tours & Trusted Rides</p>
                    </div>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden lg:flex items-center gap-8">
                    <button onclick="router.navigate('home')" id="nav-home" class="text-sm font-medium text-slate hover:text-electric transition-all duration-300 relative group mobile-tap">
                        <span class="relative z-10">Home</span>
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-electric to-teagreen group-hover:w-full transition-all duration-300"></span>
                    </button>
                    <button onclick="router.navigate('tours')" id="nav-tours" class="text-sm font-medium text-slate hover:text-electric transition-all duration-300 relative group mobile-tap">
                        <span class="relative z-10">Luxury Tours</span>
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-electric to-teagreen group-hover:w-full transition-all duration-300"></span>
                    </button>
                    <button onclick="router.navigate('rides')" id="nav-rides" class="text-sm font-medium text-slate hover:text-electric transition-all duration-300 relative group mobile-tap">
                        <span class="relative z-10">Book Ride</span>
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-electric to-teagreen group-hover:w-full transition-all duration-300"></span>
                    </button>
                    <button onclick="router.navigate('admin')" id="nav-admin" class="text-sm font-medium text-slate hover:text-electric transition-all duration-300 relative group mobile-tap">
                        <span class="relative z-10">Admin</span>
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-electric to-teagreen group-hover:w-full transition-all duration-300"></span>
                    </button>
                    
                    <!-- Language Selector -->
                    <div class="relative group">
                        <button id="language-dropdown-btn" class="flex items-center gap-2 text-sm font-medium text-slate hover:text-electric transition-all duration-300 mobile-tap">
                            <i class="fa-solid fa-language text-electric"></i>
                            <span id="current-language" class="font-semibold">English</span>
                            <i class="fa-solid fa-chevron-down text-xs text-electric transition-transform group-hover:rotate-180"></i>
                        </button>
                        <div id="language-dropdown" class="absolute top-full right-0 mt-2 w-48 glass rounded-2xl shadow-2xl hidden animate-fade-up border border-electric/20">
                            <button onclick="changeLanguage('en')" class="w-full text-left px-6 py-4 hover:bg-electric/5 text-slate font-medium flex items-center gap-3 transition-all duration-300 rounded-t-2xl mobile-tap">
                                <span class="text-lg">üá∫üá∏</span> 
                                <div class="flex flex-col">
                                    <span>English</span>
                                    <span class="text-xs text-slate/60">Primary</span>
                                </div>
                            </button>
                            <button onclick="changeLanguage('kn')" class="w-full text-left px-6 py-4 hover:bg-electric/5 text-slate font-medium flex items-center gap-3 transition-all duration-300 mobile-tap">
                                <span class="text-lg">üáÆüá≥</span> 
                                <div class="flex flex-col">
                                    <span>‡≤ï‡≤®‡≥ç‡≤®‡≤°</span>
                                    <span class="text-xs text-slate/60">Kannada</span>
                                </div>
                            </button>
                            <button onclick="changeLanguage('hi')" class="w-full text-left px-6 py-4 hover:bg-electric/5 text-slate font-medium flex items-center gap-3 transition-all duration-300 rounded-b-2xl mobile-tap">
                                <span class="text-lg">üáÆüá≥</span> 
                                <div class="flex flex-col">
                                    <span>‡§π‡§ø‡§Ç‡§¶‡•Ä</span>
                                    <span class="text-xs text-slate/60">Hindi</span>
                                </div>
                            </button>
                        </div>
                    </div>
                    
                    <button onclick="router.navigate('rides')" class="btn-premium mobile-tap">
                        <i class="fa-solid fa-car-side mr-2"></i>
                        <span id="nav-book-ride">Book Ride</span>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <div class="flex items-center gap-4 lg:hidden">
                    <button onclick="toggleMobileMenu()" class="text-midnight text-xl p-3 rounded-xl hover:bg-electric/10 transition-all duration-300 mobile-tap">
                        <i class="fa-solid fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="lg:hidden glass-dark border-t border-white/10 mt-3 hidden animate-fade-up">
            <div class="container rounded-3xl mx-auto px-4 py-6">
                <!-- Language Switcher -->
                <div class="grid grid-cols-3 gap-2 mb-6">
                    <button onclick="changeLanguage('en'); toggleMobileMenu()" class="bg-electric/10 text-electric py-3 rounded-xl text-sm font-medium mobile-tap">
                        English
                    </button>
                    <button onclick="changeLanguage('kn'); toggleMobileMenu()" class="bg-electric/10 text-electric py-3 rounded-xl text-sm font-medium mobile-tap">
                        ‡≤ï‡≤®‡≥ç‡≤®‡≤°
                    </button>
                    <button onclick="changeLanguage('hi'); toggleMobileMenu()" class="bg-electric/10 text-electric py-3 rounded-xl text-sm font-medium mobile-tap">
                        ‡§π‡§ø‡§Ç‡§¶‡•Ä
                    </button>
                </div>
                
                <!-- Menu Items -->
                <div class="space-y-2">
                    <button onclick="router.navigate('home'); toggleMobileMenu()" 
                            class="w-full text-left text-white font-semibold py-4 px-4 rounded-xl hover:bg-white/10 transition-all duration-300 flex items-center mobile-tap">
                        <i class="fa-solid fa-home mr-4 text-electric text-lg"></i>
                        <span id="mobile-home">Home</span>
                    </button>
                    <button onclick="router.navigate('tours'); toggleMobileMenu()" 
                            class="w-full text-left text-white font-semibold py-4 px-4 rounded-xl hover:bg-white/10 transition-all duration-300 flex items-center mobile-tap">
                        <i class="fa-solid fa-map-marked-alt mr-4 text-sunset text-lg"></i>
                        <span id="mobile-tours">Luxury Tours</span>
                    </button>
                    <button onclick="router.navigate('rides'); toggleMobileMenu()" 
                            class="w-full text-left text-white font-semibold py-4 px-4 rounded-xl hover:bg-white/10 transition-all duration-300 flex items-center mobile-tap">
                        <i class="fa-solid fa-car mr-4 text-melon text-lg"></i>
                        <span id="mobile-rides">Book Ride</span>
                    </button>
                    <button onclick="router.navigate('admin'); toggleMobileMenu()" 
                            class="w-full text-left text-white font-semibold py-4 px-4 rounded-xl hover:bg-white/10 transition-all duration-300 flex items-center mobile-tap">
                        <i class="fa-solid fa-lock mr-4 text-teagreen text-lg"></i>
                        <span id="mobile-admin">Admin</span>
                    </button>
                </div>
                
                <!-- Book Ride Button -->
                <button onclick="router.navigate('rides'); toggleMobileMenu()" 
                        class="w-full gradient-sunset text-white py-4 rounded-xl font-bold text-sm uppercase tracking-widest mt-6 shadow-lg mobile-tap">
                    <i class="fa-solid fa-bolt mr-2"></i>
                    <span id="mobile-book-ride">Book Premium Ride</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-root" class="flex-grow pt-20"></main>

    <!-- Mobile Bottom Navigation -->
    <div class="lg:hidden bottom-nav fixed bottom-0 left-0 right-0 z-40 py-3">
        <div class="container rounded-3xl mx-auto px-4">
            <div class="grid grid-cols-4 gap-2">
                <button onclick="router.navigate('home')" class="flex flex-col items-center justify-center py-2 rounded-xl hover:bg-electric/5 transition-all duration-300 mobile-tap">
                    <i class="fa-solid fa-home text-electric text-lg mb-1"></i>
                    <span class="text-xs font-medium text-midnight">Home</span>
                </button>
                <button onclick="router.navigate('tours')" class="flex flex-col items-center justify-center py-2 rounded-xl hover:bg-electric/5 transition-all duration-300 mobile-tap">
                    <i class="fa-solid fa-map text-sunset text-lg mb-1"></i>
                    <span class="text-xs font-medium text-midnight">Tours</span>
                </button>
                <button onclick="router.navigate('rides')" class="flex flex-col items-center justify-center py-2 rounded-xl hover:bg-electric/5 transition-all duration-300 mobile-tap">
                    <i class="fa-solid fa-car text-melon text-lg mb-1"></i>
                    <span class="text-xs font-medium text-midnight">Rides</span>
                </button>
                <button onclick="router.navigate('admin')" class="flex flex-col items-center justify-center py-2 rounded-xl hover:bg-electric/5 transition-all duration-300 mobile-tap">
                    <i class="fa-solid fa-user-shield text-teagreen text-lg mb-1"></i>
                    <span class="text-xs font-medium text-midnight">Admin</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Premium Footer -->
    <footer class="bg-midnight text-white pt-16 pb-8 relative overflow-hidden">
        <!-- Background Elements -->
        <div class="absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-electric/10 to-transparent"></div>
        <div class="absolute -top-20 -right-20 w-64 h-64 rounded-full bg-gradient-to-br from-electric/5 to-teagreen/5 blur-3xl"></div>
        <div class="absolute -bottom-20 -left-20 w-64 h-64 rounded-full bg-gradient-to-tr from-sunset/5 to-melon/5 blur-3xl"></div>
        
        <div class="container mx-auto px-4 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
                <!-- Brand Column -->
                <div>
                    <div class="flex items-center gap-3 mb-6">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkxu33iPyC1P4owLKMzPJb_c-8P7p37rV01g&s" 
                             alt="GAANYOGI Logo" 
                             class="logo-img w-14 h-14 object-contain">
                        <div>
                            <h3 class="font-serif text-2xl font-bold text-teagreen">GAANYOGI</h3>
                            <p id="footer-tagline" class="text-sm text-gray-300 mt-1">Comfort ‚Ä¢ Safety ‚Ä¢ Reliable Journeys</p>
                        </div>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        Premium travel services across India with verified drivers, transparent pricing, and 24/7 support.
                    </p>
                </div>
                
                <!-- Contact Column -->
                <div>
                    <h3 id="footer-desk" class="font-serif text-xl font-bold mb-6 text-white">Concierge Desk</h3>
                    <div class="space-y-4">
                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 rounded-full bg-electric/10 flex items-center justify-center flex-shrink-0">
                                <i class="fa-brands fa-whatsapp text-teagreen"></i>
                            </div>
                            <div>
                                <p class="font-medium">WhatsApp Support</p>
                                <p class="text-gray-300 text-sm">+91 7743805933</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 rounded-full bg-electric/10 flex items-center justify-center flex-shrink-0">
                                <i class="fa-solid fa-envelope text-teagreen"></i>
                            </div>
                            <div>
                                <p class="font-medium">Email</p>
                                <p class="text-gray-300 text-sm">gaanyogitours@gmail.com</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 rounded-full bg-electric/10 flex items-center justify-center flex-shrink-0">
                                <i class="fa-solid fa-clock text-teagreen"></i>
                            </div>
                            <div>
                                <p class="font-medium">Operating Hours</p>
                                <p class="text-gray-300 text-sm">24/7 Service Available</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 id="footer-quick" class="font-serif text-xl font-bold mb-6 text-white">Quick Links</h3>
                    <div class="space-y-3">
                        <button onclick="router.navigate('home')" class="block text-gray-400 hover:text-teagreen transition-colors duration-300 text-sm font-medium mobile-tap">Home</button>
                        <button onclick="router.navigate('tours')" class="block text-gray-400 hover:text-teagreen transition-colors duration-300 text-sm font-medium mobile-tap">Luxury Tours</button>
                        <button onclick="router.navigate('rides')" class="block text-gray-400 hover:text-teagreen transition-colors duration-300 text-sm font-medium mobile-tap">Book a Ride</button>
                        <button onclick="router.navigate('admin')" class="block text-gray-400 hover:text-teagreen transition-colors duration-300 text-sm font-medium mobile-tap">Admin Portal</button>
                    </div>
                </div>
                
                <!-- Connect -->
                <div>
    <h3 id="footer-connect" class="font-serif text-xl font-bold mb-6 text-white">
        Connect With Us
    </h3>

    <div class="flex gap-4 mb-6 flex-wrap">
        <!-- Instagram -->
        <a href="https://instagram.com/_abhi_1435_" target="_blank"
           class="w-12 h-12 rounded-full bg-white/10 hover:bg-electric/20 transition-all duration-300 flex items-center justify-center text-xl text-white hover:text-teagreen hover:scale-110 mobile-tap">
            <i class="fa-brands fa-instagram"></i>
        </a>

        <!-- Twitter -->
        <a href="https://twitter.com/_abhi_1435_" target="_blank"
           class="w-12 h-12 rounded-full bg-white/10 hover:bg-electric/20 transition-all duration-300 flex items-center justify-center text-xl text-white hover:text-teagreen hover:scale-110 mobile-tap">
            <i class="fa-brands fa-twitter"></i>
        </a>

        <!-- WhatsApp -->
        <a href="https://wa.me/917743805933" target="_blank"
           class="w-12 h-12 rounded-full bg-white/10 hover:bg-electric/20 transition-all duration-300 flex items-center justify-center text-xl text-white hover:text-teagreen hover:scale-110 mobile-tap">
            <i class="fa-brands fa-whatsapp"></i>
        </a>

        <!-- Telegram -->
        <a href="https://t.me/abhi_1435aruu" target="_blank"
           class="w-12 h-12 rounded-full bg-white/10 hover:bg-electric/20 transition-all duration-300 flex items-center justify-center text-xl text-white hover:text-teagreen hover:scale-110 mobile-tap">
            <i class="fa-brands fa-telegram"></i>
        </a>

        <!-- GitHub -->
        <a href="https://github.com/hugarabhi" target="_blank"
           class="w-12 h-12 rounded-full bg-white/10 hover:bg-electric/20 transition-all duration-300 flex items-center justify-center text-xl text-white hover:text-teagreen hover:scale-110 mobile-tap">
            <i class="fa-brands fa-github"></i>
        </a>

        <!-- Website -->
        <a href="https://avinashtech.page.gd" target="_blank"
           class="w-12 h-12 rounded-full bg-white/10 hover:bg-electric/20 transition-all duration-300 flex items-center justify-center text-xl text-white hover:text-teagreen hover:scale-110 mobile-tap">
            <i class="fa-solid fa-globe"></i>
        </a>
    </div>
</div>
                    <div class="bg-white/5 p-4 rounded-xl border border-white/10">
    <p class="text-sm text-gray-300 mb-2">Subscribe for updates</p>

    <div class="flex gap-2">
        <input 
            type="email" 
            id="userEmail"
            placeholder="Your email"
            class="flex-1 bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-electric"
            required
        >

        <button 
            onclick="saveEmail()"
            class="bg-electric text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-electric/90 transition-colors duration-300 mobile-tap"
        >
            <i class="fa-solid fa-paper-plane"></i>
        </button>
    </div>

    <p id="msg" class="text-green-400 text-sm mt-2 hidden">
        ‚úî Subscribed successfully!
    </p>
</div>

                </div>
            </div>
            
            <!-- Copyright -->
            <div id="footer-copyright" class="text-center text-gray-500 text-xs uppercase tracking-widest mt-12 pt-8 border-t border-white/10">
                &copy; 2026 GAANYOGI | Premium Tours & Trusted Rides | All rights reserved by abhiwebdesign.great-site.net
            </div>
        </div>
    </footer>

    <!-- Premium AI Chat Widget -->
    <div class="fixed bottom-24 right-6 lg:bottom-6 lg:right-6 z-50">
        <!-- Chat Window -->
        <div id="chat-window" class="hidden chat-window w-full max-w-sm h-[500px] rounded-3xl shadow-2xl flex flex-col mb-4 overflow-hidden">
            <!-- Chat Header -->
            <div class="gradient-primary p-6 text-white">
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center border-2 border-white/30">
                            <i class="fa-solid fa-robot text-xl"></i>
                        </div>
                        <div>
                            <p class="font-bold text-lg font-serif" id="chat-title">gaanYogi AI</p>
                            <p class="text-xs opacity-90 uppercase tracking-wider" id="chat-subtitle">Premium Travel Concierge</p>
                        </div>
                    </div>
                    <button onclick="toggleChat()" class="w-10 h-10 rounded-full hover:bg-white/20 flex items-center justify-center transition-all duration-300 mobile-tap">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>
                <div class="flex gap-2">
                    <span class="text-xs bg-white/20 px-3 py-1 rounded-full">24/7 Available</span>
                    <span class="text-xs bg-white/20 px-3 py-1 rounded-full">Instant Replies</span>
                </div>
            </div>
            
            <!-- Chat Messages -->
            <div id="chat-messages" class="flex-1 p-6 overflow-y-auto bg-cream/50 space-y-4 premium-scrollbar">
                <!-- Welcome Message -->
                <div class="flex justify-start animate-fade-up">
                    <div class="max-w-[85%]">
                        <div class="bg-white p-4 rounded-2xl rounded-tl-none shadow-sm border border-electric/20">
                            <span id="chat-welcome">Namaste! I am gaanYogi, your AI travel concierge. I can help you book rides, explore tours, check pricing, and answer all your travel questions. How can I assist you today?</span>
                        </div>
                        <p class="text-xs text-slate mt-2 ml-1">Just now</p>
                    </div>
                </div>
                
                <!-- Quick Suggestions -->
                <div class="flex flex-wrap gap-2 mt-4">
                    <button onclick="quickChatSuggestion('book a ride')" class="text-xs bg-electric/10 text-electric px-3 py-2 rounded-full hover:bg-electric/20 transition-colors duration-300 mobile-tap">
                        Book a Ride
                    </button>
                    <button onclick="quickChatSuggestion('tour packages')" class="text-xs bg-sunset/10 text-sunset px-3 py-2 rounded-full hover:bg-sunset/20 transition-colors duration-300 mobile-tap">
                        Tour Packages
                    </button>
                    <button onclick="quickChatSuggestion('pricing')" class="text-xs bg-teagreen/10 text-midnight px-3 py-2 rounded-full hover:bg-teagreen/20 transition-colors duration-300 mobile-tap">
                        Check Pricing
                    </button>
                    <button onclick="quickChatSuggestion('contact support')" class="text-xs bg-melon/10 text-melon px-3 py-2 rounded-full hover:bg-melon/20 transition-colors duration-300 mobile-tap">
                        Contact Support
                    </button>
                </div>
            </div>
            
            <!-- Chat Input -->
            <div class="p-4 bg-white border-t border-electric/10">
                <div class="flex gap-3">
                    <input type="text" id="chat-input" 
                           placeholder="Ask about tours, rides, or destinations..." 
                           class="flex-1 bg-cream border border-electric/20 rounded-xl px-4 py-3 text-sm text-midnight focus:outline-none focus:ring-2 focus:ring-electric/30 focus:border-transparent">
                    <button onclick="handleChatSend()" class="gradient-primary text-white w-12 h-12 rounded-xl flex items-center justify-center hover:opacity-90 transition-all duration-300 shadow-lg mobile-tap">
                        <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Chat Toggle Button -->
        <button onclick="toggleChat()" class="gradient-sunset text-white w-16 h-16 rounded-full shadow-2xl flex items-center justify-center hover:scale-105 transition-transform duration-300 shadow-lg mobile-tap animate-float">
            <i class="fa-solid fa-comment-dots text-2xl"></i>
        </button>
    </div>

    <!-- WhatsApp Float Button -->
    <a href="https://wa.me/917743805933" target="_blank" class="fixed bottom-6 right-24 lg:bottom-6 lg:right-24 z-40">
        <div class="relative group">
            <div class="absolute -inset-1 bg-gradient-to-r from-teagreen to-electric rounded-full blur opacity-30 group-hover:opacity-70 transition duration-1000"></div>
            <div class="relative w-14 h-14 bg-gradient-to-br from-teagreen to-electric rounded-full shadow-2xl flex items-center justify-center text-white hover:scale-105 transition-transform duration-300 mobile-tap animate-float" style="animation-delay: 0.5s;">
                <i class="fa-brands fa-whatsapp text-2xl"></i>
            </div>
            <div class="absolute -top-2 -right-2 w-6 h-6 bg-sunset rounded-full flex items-center justify-center text-xs font-bold animate-pulse">
                <i class="fa-solid fa-bolt"></i>
            </div>
        </div>
    </a>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-24 right-6 z-[70] flex flex-col gap-4 w-auto max-w-[320px] pointer-events-none"></div>

    <!-- Modal Container -->
    <div id="modal-container" class="fixed inset-0 z-[80] pointer-events-none flex items-center justify-center p-4"></div>

    <!-- External Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDkAgf3cZKBpK4RCJcnCqgKyNRTk7VEmI0&libraries=places"></script>
    
    <!-- Firebase Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, serverTimestamp, query, orderBy, limit, onSnapshot, doc, updateDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyD3OCCZJIEL1cjeMfM5A7aZ-4Eh-1DWiIg",
            authDomain: "gaanyogitours.firebaseapp.com",
            projectId: "gaanyogitours",
            storageBucket: "gaanyogitours.firebasestorage.app",
            messagingSenderId: "884166466732",
            appId: "1:884166466732:web:f09efbb5c3ab937f371309"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Application State
        const state = {
            user: null,
            isAdminVerified: false,
            map: null,
            currentLanguage: 'en',
            currentRoute: 'home',
            ride: {
                step: 1,
                pickup: '',
                drop: '',
                date: new Date().toISOString().split('T')[0],
                time: '09:00',
                tripType: 'one-way',
                distance: 0,
                loading: false,
                selectedVehicle: null,
                fixedPrice: null,
                passengerCount: 1,
                notes: ''
            },
            reviews: [],
            updates: [],
            reviewSlider: null,
            updateSlider: null,
            mapsService: null,
            directionsService: null,
            directionsRenderer: null
        };

        // Google Maps API Key
        const GOOGLE_MAPS_API_KEY = 'AIzaSyDkAgf3cZKBpK4RCJcnCqgKyNRTk7VEmI0';

        // PRESERVED DATA ARRAYS - NO CHANGES TO BUSINESS DATA
        const RIDE_OFFERS = [
            { 
                id: 'off1', 
                from: 'Solapur', 
                to: 'Haidra (Akkalkot)', 
                price: 3200, 
                distance: '70+',
                img: 'https://content.jdmagicbox.com/comp/solapur/n2/9999px217.x217.191121203948.n9n2/catalogue/khwaja-saifan-mulk-dargah-solapur-mosques-1a1zb03cpg.jpg', 
                vehicle: 'Cruiser (√ó14 ST) ', 
                duration: '3h',
                rate: 16
            },
            { 
                id: 'off2', 
                from: 'Solapur', 
                to: 'Haidra (Akkalkot)', 
                price: 3200, 
                distance: '70+',
                img: 'https://content.jdmagicbox.com/comp/solapur/n2/9999px217.x217.191121203948.n9n2/catalogue/khwaja-saifan-mulk-dargah-solapur-mosques-1a1zb03cpg.jpg', 
                vehicle: 'ERTIGA CAR(x6 ST) ', 
                duration: '3h',
                rate: 16
            },
            { 
                id: 'off3', 
                from: 'Haidra(Akkalkot)', 
                to: 'Akkalkot', 
                price: 1500, 
                distance: '29+',
                img: 'https://content.jdmagicbox.com/comp/solapur/n2/9999px217.x217.191121203948.n9n2/catalogue/khwaja-saifan-mulk-dargah-solapur-mosques-1a1zb03cpg.jpg', 
                vehicle: 'ERTIGA CAR(x6 ST) ', 
                duration: '42m',
                rate: 16
            },
            { 
                id: 'off4', 
                from: 'Haidra(Akkalkot)', 
                to: 'Akkalkot', 
                price: 2000, 
                distance: '29+',
                img: 'https://content.jdmagicbox.com/comp/solapur/n2/9999px217.x217.191121203948.n9n2/catalogue/khwaja-saifan-mulk-dargah-solapur-mosques-1a1zb03cpg.jpg', 
                vehicle: 'FORCE CRUISER (x6 ST)', 
                duration: '42m',
                rate: 16
            },
            { 
                id: 'off5', 
                from: 'Solapur', 
                to: 'Akkalkot Center', 
                price: 2000, 
                distance: '38.5',
                img: 'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6iBv4aoO3z3FiWvDGOyBnxegWID4kNBr-FiIs2XmLhKpGaI9y6GoP0pvFwuCIdqxSiSMXUuYpN8lYRc0h5FHQHtspwSTxZ-cLr0qhbIiyOWFR8A9QwGkiMYnWIuJITyDeVHsVBKik9RTz/s1600/IMG_20190513_090039.jpg', 
                vehicle: 'Cruiser (√ó14 ST)', 
                duration: '1h',
                rate: 16
            },
            { 
                id: 'off6', 
                from: 'akkalkot', 
                to: 'gangapur', 
                price: 4000, 
                distance: '63',
                img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSyKzGL4Y84SDKL4ai25zL_l191cXLNJtvMJQ&s', 
                vehicle: 'Cruiser √ó14(seater)', 
                duration: '1h 50m',
                rate: 16
            },
            { 
                id: 'off7', 
                from: 'akkalkot', 
                to: 'gangapur', 
                price: 3000, 
                distance: '443',
                img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSyKzGL4Y84SDKL4ai25zL_l191cXLNJtvMJQ&s', 
                vehicle: 'ertiga car (x6 ST)', 
                duration: '1h 50m',
                rate: 16
            },
            { 
                id: 'off8', 
                from: 'akkalkot', 
                to: 'gangapur', 
                price: 4000, 
                distance: '443',
                img: 'https://i.ytimg.com/vi/SmBRx4AWmuo/maxresdefault.jpg', 
                vehicle: 'Cruiser √ó16', 
                duration: '8h 30m',
                rate: 16
            },
            { 
                id: 'off9', 
                from: 'akkalkot', 
                to: 'mumbai', 
                price: 6582, 
                distance: '443 ( X16per KM )',
                img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvAtMjPQtXmL-Suic1WKaz7FueCHC8ZtRDxg&s', 
                vehicle: 'Cruiser √ó16', 
                duration: '8h 30m',
                rate: 16
            },
            { 
                id: 'off10', 
                from: 'akkalkot', 
                to: 'hyderabad', 
                price: 5000, 
                distance: '293',
                img: 'https://www.squareyards.com/blog/wp-content/uploads/2023/01/Top-Localities-in-Hyderabad.jpg', 
                vehicle: 'Cruiser √ó16', 
                duration: '5h 52m',
                rate: 16
            },
            { 
                id: 'off11', 
                from: 'Solapur', 
                to: 'Tuljapur', 
                price: 1100, 
                distance: '46.5',
                img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpB9wIZ1G_Y1qXDKHToklLEYMKynzzTWe_7g&s', 
                vehicle: 'Cruiser √ó16', 
                duration: '1h 15m',
                rate: 16
            },
            { 
                id: 'off12', 
                from: 'Solapur', 
                to: 'Pandharpur', 
                price: 1500, 
                distance: '71',
                img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTA2_8Aqf_TT2erpInW8jAS_2xvGkyg_M7kzg&s', 
                vehicle: 'Cruiser √ó16', 
                duration: '1h 18min',
                rate: 16
            },
            { 
                id: 'off13', 
                from: 'Solapur', 
                to: 'Lonavala', 
                price: 5096, 
                distance: '318.5',
                img: 'https://images.travelxp.com/images/india/Lonavla/Best_Places_To_Visit_in_Lonavala.png', 
                vehicle: 'Cruiser √ó16', 
                duration: '6h 30m',
                rate: 16
            }
        ];

        const TOURS = [
            { 
                id: 't001', 
                title: 'Mystical Hampi', 
                region: 'Karnataka', 
                duration: '3 Days', 
                price: 18500, 
                rating: 4.8, 
                image: 'https://s7ap1.scene7.com/is/image/incredibleindia/a-journey-through-1-body-1?qlt=82&ts=1727368333677', 
                desc: 'Explore the ancient ruins of Vijayanagara empire, UNESCO World Heritage Site with magnificent temples and architecture.', 
                highlights: ['Coracle Ride on Tungabhadra', 'Sunset at Hemakuta Hill', 'Virupaksha Temple', 'Elephant Stables', 'Lotus Mahal'] 
            },
            { 
                id: 't002', 
                title: 'Srisailam Temple Tour', 
                region: 'Andhra Pradesh', 
                duration: '4 Days', 
                price: 22000, 
                rating: 4.9, 
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRrCQnptVStFDQv1pxNan9xP8Csp0KR7JtC_A&s', 
                desc: 'Spiritual journey to one of the 12 Jyotirlingas, Mallikarjuna Swamy Temple located on Nallamala hills.', 
                highlights: ['Mallikarjuna Temple Darshan', 'Bhramaramba Temple', 'Srisailam Dam', 'Akka Mahadevi Caves', 'Paatalaganga'] 
            },
            { 
                id: 't003', 
                title: 'Pune Heritage & Modernity', 
                region: 'Maharashtra', 
                duration: '3 Days', 
                price: 15500, 
                rating: 4.7, 
                image: 'https://pbs.twimg.com/media/EfONGKTUEAEjNdb.jpg', 
                desc: 'Explore the cultural capital of Maharashtra with its historic forts, modern IT hubs, and delicious Maharashtrian cuisine.', 
                highlights: ['Shaniwar Wada', 'Aga Khan Palace', 'Sinhagad Fort', 'Kelkar Museum', 'Dagdusheth Temple'] 
            },
            { 
                id: 't004', 
                title: 'Kerala Backwaters', 
                region: 'Kerala', 
                duration: '5 Days', 
                price: 28500, 
                rating: 4.9, 
                image: 'https://images.unsplash.com/photo-1529107386315-e1a2ed48a620?q=80&w=400&auto=format&fit=crop', 
                desc: 'Serene houseboat cruise through palm-fringed canals, experiencing the unique culture and natural beauty of Kerala.', 
                highlights: ['Alleppey Houseboat Stay', 'Kumarakom Bird Sanctuary', 'Ayurvedic Spa Treatment', 'Kathakali Dance Show', 'Coconut Lagoon Visit'] 
            }
        ];

        const VEHICLES = [
            { 
                id: 'v1', 
                name: 'Gaanyogi Ertiga Car', 
                type: 'Car (AC)', 
                seats: 7, 
                rate: 14, 
                img: 'https://cdni.autocarindia.com/ExtraImages/20220725062827_Ertiga_showroom.jpeg', 
                color: 'electric',
                ac: true 
            },
            { 
                id: 'v2', 
                name: 'Gaanyogi Force Cruiser', 
                type: 'Cruiser (AC)', 
                seats: 14, 
                rate: 18, 
                img: 'https://www.cmv360.com/_next/image?url=https%3A%2F%2Fd1odgbsvvxl2qd.cloudfront.net%2Fsmall_Trax_Cruiser_48f5bcdcb4.jpg&w=3840&q=100', 
                color: 'sunset',
                ac: true 
            },
            { 
                id: 'v3', 
                name: 'Gaanyogi Ertiga Car', 
                type: 'Car (Non-AC)', 
                seats: 7, 
                rate: 12, 
                img: 'https://imgd.aeplcdn.com/370x208/n/cw/ec/120337/maruti-suzuki-ertiga-left-front-three-quarter0.jpeg?isig=0&q=80', 
                color: 'melon',
                ac: false 
            },
            { 
                id: 'v4', 
                name: 'Gaanyogi Force Cruiser', 
                type: 'Cruiser (Non-AC)', 
                seats: 14, 
                rate: 16, 
                img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTVuxl4k-AmSM34WOI2iy41jSAhTbCS1QzaJQ&s', 
                color: 'sunset',
                ac: false 
            },
        ];

        // Language Translations
        const translations = {
            en: {
                // Navigation
                'nav-subtitle': 'Premium Tours & Trusted Rides',
                'nav-home': 'Home',
                'nav-tours': 'Luxury Tours',
                'nav-rides': 'Book Ride',
                'nav-admin': 'Admin',
                'nav-book-ride': 'Book Ride',
                'user-guest': 'Guest',
                'current-language': 'English',
                
                // Mobile Menu
                'mobile-home': 'Home',
                'mobile-tours': 'Luxury Tours',
                'mobile-rides': 'Book Ride',
                'mobile-admin': 'Admin',
                'mobile-book-ride': 'Book Premium Ride',
                
                // Footer
                'footer-tagline': 'Comfort ‚Ä¢ Safety ‚Ä¢ Reliable Journeys',
                'footer-desk': 'Concierge Desk',
                'footer-quick': 'Quick Links',
                'footer-connect': 'Connect With Us',
                'footer-copyright': '¬© 2026 GAANYOGI | Premium Tours & Trusted Rides | All rights reserved by abhiwebdesign.great-site.net',
                
                // Chat
                'chat-title': 'gaanYogi AI',
                'chat-subtitle': 'Premium Travel Concierge',
                'chat-welcome': 'Namaste! I am gaanYogi, your AI travel concierge. I can help you book rides, explore tours, check pricing, and answer all your travel questions. How can I assist you today?',
                'chat-placeholder': 'Ask about tours, rides, or destinations...',
                
                // Home Page
                'hero-subtitle': 'Premium Travel Services',
                'hero-title-1': 'Elevate Your',
                'hero-title-2': 'Journey.',
                'hero-description': 'Experience the finest chauffeur services and curated luxury tours across India.',
                'hero-btn-ride': 'Book Premium Ride',
                'hero-btn-tours': 'Explore Luxury Tours',
                'about-title': 'About Gaanyogi-Tours & Rides',
                'about-description': 'Trusted travel partner with verified drivers, comfortable vehicles, and transparent pricing for spiritual journeys and tourist destinations.',
                'offers-subtitle': 'Fixed Rate Services',
                'offers-title': 'Popular Routes',
                'offers-description': 'Pre-booked routes at competitive rates',
                'book-now': 'Book Now',
                'tours-subtitle': 'Featured Escapes',
                'tours-title': 'Luxury Tour Packages',
                'tours-description': 'Curated experiences for discerning travelers',
                'view-all-tours': 'View All Tours',
                'explore': 'Explore',
                'reviews-title': 'Happy Travelers',
                'reviews-subtitle': 'What Our Customers Say',
                'updates-title': 'Travel Updates',
                'updates-subtitle': 'Latest Offers & Announcements',
                'features-eco': 'Eco-Conscious',
                'features-eco-desc': 'Sustainable tourism practices across all our journeys.',
                'features-safety': 'Premium Safety',
                'features-safety-desc': '24/7 verified chauffeurs and secure digital payments.',
                'features-ai': 'AI Concierge',
                'features-ai-desc': 'Personalized recommendations via gaanYogi AI assistant.',
                'features-support': '24/7 Support',
                'features-support-desc': 'Round-the-clock customer service and emergency assistance.',
                'pricing-subtitle': 'Transparent Pricing',
                'pricing-title': 'Standard Fare Rates',
                'pricing-description': 'Clear and competitive pricing for all routes',
                'pricing-note': 'Rates are calculated at ‚Çπ16/km for Cruiser and ‚Çπ14/km for Car. Minimum fare applies.',
                
                // Rides Page
                'rides-title': 'Book Your Premium Journey',
                'rides-subtitle': 'Luxury chauffeur services across India',
                'rides-popular': 'Popular Routes',
                'step-1': 'Trip Details',
                'step-2': 'Fare Calculation',
                'step-3': 'Vehicle Selection',
                'step-4': 'Customer Details',
                'step-5': 'Confirmation',
                'pickup-label': 'Pickup Location',
                'pickup-placeholder': 'e.g. Mumbai Airport, Solapur Station',
                'destination-label': 'Destination',
                'destination-placeholder': 'e.g. Taj Mahal, Akkalkot Temple',
                'date-label': 'Travel Date',
                'time-label': 'Pickup Time',
                'trip-type-label': 'Trip Type',
                'one-way': 'One Way',
                'round-trip': 'Round Trip',
                'calculate-fare': 'Calculate Fare',
                'calculating': 'Calculating Distance...',
                'distance': 'Distance',
                'change': 'Change',
                'next': 'Next',
                'previous': 'Previous',
                'select-vehicle': 'Select Vehicle',
                'seats': 'Seats',
                'ac': 'AC',
                'non-ac': 'Non-AC',
                'passengers-label': 'Number of Passengers',
                'notes-label': 'Special Requirements',
                'notes-placeholder': 'e.g. Wheelchair accessible, extra luggage',
                'confirm-booking': 'Confirm Booking',
                'enter-pickup': 'Please enter pickup location',
                'enter-destination': 'Please enter destination',
                
                // Tours Page
                'tours-page-subtitle': 'Bespoke Itineraries',
                'tours-page-title': 'Curated Escapes',
                'tours-page-description': 'Discover handpicked luxury tours across India\'s most breathtaking destinations',
                'view-details': 'View Details',
                'back-tours': 'Back to Tours',
                'tour-overview': 'Experience Overview',
                'tour-highlights': 'Tour Highlights',
                'package-price': 'Package Price',
                'inclusive': 'All inclusive ‚Ä¢ Taxes included',
                'tour-includes-1': 'Instant Confirmation',
                'tour-includes-2': 'Secure Payment Gateway',
                'tour-includes-3': 'Expert Local Guide',
                'tour-includes-4': 'Luxury Accommodation',
                'tour-includes-5': 'All Meals Included',
                'tour-includes-6': 'Transportation',
                'tour-book-now': 'Book Now',
                'tour-help': 'Need help? Call +91 7743805933',
                'day-1': 'Day 1',
                'day-2': 'Day 2',
                'day-3': 'Day 3',
                'day-4': 'Day 4',
                'day-5': 'Day 5',
                
                // Booking Page
                'booking-title': 'Complete Your Booking',
                'booking-subtitle': 'Finalize your reservation for',
                'full-name': 'Full Name *',
                'full-name-placeholder': 'Enter your full name',
                'phone': 'Phone *',
                'phone-placeholder': '+91 00000 00000',
                'email': 'Email',
                'email-placeholder': 'your@email.com',
                'total-amount': 'Total Amount',
                'scan-pay': 'Scan to Pay via UPI',
                'upi-id': 'UPI ID: gaanyogitours@okicici',
                'whatsapp-confirm': 'WhatsApp Confirmation',
                'whatsapp-desc': 'After payment, share payment screenshot on WhatsApp for booking confirmation.',
                'payment-made': 'I Have Made the Payment',
                'send-confirmation': 'Send Confirmation',
                'booking-success': 'Booking Submitted Successfully!',
                'booking-error': 'Error processing booking. Please try again.',
                
                // Admin
                'admin-title': 'Admin Dashboard',
                'admin-subtitle': 'Manage bookings and monitor services',
                'recent-bookings': 'Recent Bookings',
                'manage-reviews': 'Manage Reviews',
                'manage-updates': 'Manage Updates',
                'manage-tours': 'Manage Tours',
                'logout': 'Logout',
                'admin-access': 'Admin Access',
                'enter-passkey': 'Enter passkey to continue',
                'passkey-placeholder': 'Enter Passkey',
                'unlock-dashboard': 'Unlock Dashboard',
                'customer': 'Customer',
                'service': 'Service',
                'amount': 'Amount',
                'status': 'Status',
                'date': 'Date',
                'actions': 'Actions',
                'confirm': 'Confirm',
                'resend': 'Resend',
                'delete': 'Delete',
                'loading-bookings': 'Loading bookings...',
                'no-bookings': 'No bookings found',
                
                // Toast Messages
                'toast-location-error': 'Please enter both pickup and destination locations',
                'toast-distance-success': 'Distance calculated: {distance} km',
                'toast-booking-success': 'Booking submitted successfully!',
                'toast-booking-error': 'Error processing booking. Please try again.',
                'toast-ride-success': 'Ride request sent successfully!',
                'toast-confirm-success': 'Booking confirmed! WhatsApp sent to {phone}',
                'toast-resend-success': 'Confirmation resent to {phone}',
                'toast-delete-success': 'Booking deleted successfully',
                'toast-admin-success': 'Admin access granted',
                'toast-admin-error': 'Invalid passkey',
                'toast-language-changed': 'Language changed to {language}',
                'toast-payment-required': 'Please complete payment and send screenshot via WhatsApp',
                'toast-tour-booked': 'Tour booking successful! Check WhatsApp for confirmation',
                
                // Table Headers
                'table-destination': 'Destination',
                'table-distance': 'Distance (km)',
                'table-cruiser': 'Cruiser √ó16 (‚Çπ)',
                'table-car': 'Car √ó14 (‚Çπ)'
            }
        };

        // Language Functions
        function getTranslation(key, params = {}) {
            const lang = state.currentLanguage;
            let text = translations[lang][key] || translations['en'][key] || key;
            
            Object.keys(params).forEach(param => {
                text = text.replace(`{${param}}`, params[param]);
            });
            
            return text;
        }

        function updateAllText() {
            document.querySelectorAll('[id]').forEach(element => {
                const id = element.id;
                if (translations[state.currentLanguage][id]) {
                    if (element.tagName === 'INPUT' && element.type === 'text') {
                        element.placeholder = getTranslation(id);
                    } else if (element.tagName === 'INPUT' && element.type === 'email') {
                        element.placeholder = getTranslation(id);
                    } else {
                        element.textContent = getTranslation(id);
                    }
                }
            });
            
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.placeholder = getTranslation('chat-placeholder');
            }
            
            const currentLangElement = document.getElementById('current-language');
            if (currentLangElement) {
                currentLangElement.textContent = getTranslation('current-language');
            }
            
            router.navigate(state.currentRoute);
        }

        function changeLanguage(lang) {
            state.currentLanguage = lang;
            localStorage.setItem('gaanyogi-language', lang);
            updateAllText();
            showToast(getTranslation('toast-language-changed', {language: getTranslation('current-language')}), 'success');
        }

        // Authentication
        async function initAuth() {
            try {
                await signInAnonymously(auth);
            } catch (error) {
                console.log("Auth:", error);
            }
            
            onAuthStateChanged(auth, (user) => {
                state.user = user;
            });
        }

        // Router
        const router = {
            navigate: (route, params) => {
                const root = document.getElementById('app-root');
                window.scrollTo({ top: 0, behavior: 'smooth' });
                state.currentRoute = route;
                
                const mobileMenu = document.getElementById('mobile-menu');
                if (mobileMenu) {
                    mobileMenu.classList.add('hidden');
                }
                
                if(route === 'home') renderHome(root);
                else if(route === 'tours') renderTours(root);
                else if(route === 'tour-detail') renderTourDetail(root, params);
                else if(route === 'booking') renderBooking(root, params);
                else if(route === 'rides') renderRides(root);
                else if(route === 'admin') renderAdmin(root);
                else router.navigate('home');
            }
        };


// Save email function
window.saveEmail = async function () {
    const email = document.getElementById("userEmail").value;
    const msg = document.getElementById("msg");

    if (!email) {
        alert("Please enter your email");
        return;
    }

    try {
        await addDoc(collection(db, "subscribers"), {
            email: email,
            createdAt: serverTimestamp()
        });

        msg.classList.remove("hidden");
        document.getElementById("userEmail").value = "";

    } catch (error) {
        alert("Error saving email");
        console.error(error);
    }
}


        // Initialize Google Maps Services
        function initGoogleMaps() {
            if (!window.google || !window.google.maps) {
                console.error('Google Maps API not loaded');
                return;
            }
            
            if (!state.directionsService) {
                state.directionsService = new google.maps.DirectionsService();
                state.directionsRenderer = new google.maps.DirectionsRenderer();
            }
        }

        // Calculate Distance using Google Maps API
        async function calculateDistance(origin, destination) {
            return new Promise((resolve, reject) => {
                if (!origin || !destination) {
                    reject(new Error('Origin and destination required'));
                    return;
                }
                
                if (!state.directionsService) {
                    initGoogleMaps();
                    if (!state.directionsService) {
                        reject(new Error('Google Maps not initialized'));
                        return;
                    }
                }
                
                const request = {
                    origin: origin,
                    destination: destination,
                    travelMode: google.maps.TravelMode.DRIVING,
                    unitSystem: google.maps.UnitSystem.METRIC
                };
                
                state.directionsService.route(request, (response, status) => {
                    if (status === 'OK') {
                        const route = response.routes[0];
                        const distance = route.legs[0].distance.value / 1000; // Convert to km
                        resolve(distance);
                    } else {
                        reject(new Error('Distance calculation failed: ' + status));
                    }
                });
            });
        }

        // Enhanced Home Page Render
        function renderHome(container) {
            container.innerHTML = `
                <!-- Hero Section -->
                <section class="relative h-screen w-full overflow-hidden">
                    <div class="absolute inset-0">
                        <img src="https://images.unsplash.com/photo-1490902931801-d6f80ca94fe4?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" 
                             class="w-full h-full object-cover" 
                             alt="Luxury Travel"
                             loading="lazy">
                        <div class="absolute inset-0 bg-gradient-to-r from-midnight/80 via-midnight/60 to-transparent"></div>
                        <div class="absolute inset-0 bg-gradient-to-t from-midnight/90 via-transparent to-transparent"></div>
                    </div>
                    
                    <div class="relative h-full flex items-center px-4 md:px-12 lg:px-24">
                        <div class="max-w-2xl animate-fade-up">
                            <div class="flex items-center gap-4 mb-8">
                                <div class="w-20 h-20 rounded-2xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center">
                                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkxu33iPyC1P4owLKMzPJb_c-8P7p37rV01g&s" 
                                         alt="GAANYOGI Logo" 
                                         class="w-16 h-16 object-contain">
                                </div>
                                <span class="text-gold font-bold tracking-[0.3em] text-sm uppercase bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full border border-gold/30">${getTranslation('hero-subtitle')}</span>
                            </div>
                            <h1 class="font-serif text-5xl md:text-7xl text-white mb-6 leading-tight">
                                ${getTranslation('hero-title-1')} 
                                <span class="text-teagreen italic block">${getTranslation('hero-title-2')}</span>
                            </h1>
                            <p class="text-white/90 text-lg md:text-xl mb-10 max-w-xl leading-relaxed">${getTranslation('hero-description')}</p>
                            <div class="flex flex-col sm:flex-row gap-6">
                                <button onclick="router.navigate('rides')" 
                                        class="btn-premium mobile-tap group">
                                    <i class="fa-solid fa-car-side mr-3 group-hover:translate-x-1 transition-transform"></i>
                                    ${getTranslation('hero-btn-ride')}
                                </button>
                                <button onclick="router.navigate('tours')" 
                                        class="bg-white/20 backdrop-blur-sm text-white border-2 border-white/30 px-10 py-4 rounded-full font-bold uppercase tracking-widest text-sm hover:bg-white/30 transition-all duration-300 mobile-tap group">
                                    <i class="fa-solid fa-map-marked-alt mr-3 group-hover:scale-110 transition-transform"></i>
                                    ${getTranslation('hero-btn-tours')}
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Scroll Indicator -->
                    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
                        <div class="w-6 h-10 border-2 border-white/50 rounded-full flex justify-center">
                            <div class="w-1 h-3 bg-white/70 rounded-full mt-2 animate-pulse"></div>
                        </div>
                    </div>
                </section>

                <!-- About Section -->
                <section class="section-spacing bg-gradient-to-b from-cream to-white">
                    <div class="container mx-auto px-4">
                        <div class="max-w-3xl mx-auto text-center mb-12">
                            <h2 class="font-serif text-3xl md:text-4xl text-midnight mb-6">${getTranslation('about-title')}</h2>
                            <p class="text-slate text-lg leading-relaxed">
                                ${getTranslation('about-description')} We specialize in temple routes, tourist destinations, 
                                and business travel with premium vehicles and verified drivers.
                            </p>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div class="text-center p-8 premium-card">
                                <div class="w-20 h-20 gradient-primary rounded-2xl mx-auto flex items-center justify-center text-white text-2xl mb-6">
                                    <i class="fa-solid fa-user-shield"></i>
                                </div>
                                <h3 class="font-serif text-xl font-bold text-midnight mb-4">Verified Drivers</h3>
                                <p class="text-slate">All chauffeurs are background-checked and trained for premium service.</p>
                            </div>
                            <div class="text-center p-8 premium-card">
                                <div class="w-20 h-20 gradient-sunset rounded-2xl mx-auto flex items-center justify-center text-white text-2xl mb-6">
                                    <i class="fa-solid fa-indian-rupee-sign"></i>
                                </div>
                                <h3 class="font-serif text-xl font-bold text-midnight mb-4">Transparent Pricing</h3>
                                <p class="text-slate">No hidden charges. See exactly what you pay with our per-km pricing.</p>
                            </div>
                            <div class="text-center p-8 premium-card">
                                <div class="w-20 h-20 gradient-gold rounded-2xl mx-auto flex items-center justify-center text-white text-2xl mb-6">
                                    <i class="fa-solid fa-headset"></i>
                                </div>
                                <h3 class="font-serif text-xl font-bold text-midnight mb-4">24/7 Support</h3>
                                <p class="text-slate">Round-the-clock customer service for any assistance during your journey.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Popular Ride Offers -->
                <section class="section-spacing bg-white">
                    <div class="container mx-auto px-4">
                        <div class="text-center mb-12">
                            <span class="text-electric font-bold tracking-[0.3em] text-xs uppercase mb-3 block">${getTranslation('offers-subtitle')}</span>
                            <h2 class="font-serif text-3xl md:text-4xl text-midnight mb-4">${getTranslation('offers-title')}</h2>
                            <p class="text-slate max-w-2xl mx-auto">${getTranslation('offers-description')}</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${RIDE_OFFERS.map(offer => `
                                <div class="premium-card">
                                    <div class="h-48 overflow-hidden relative">
                                        <img src="${offer.img}" 
                                             class="w-full h-full object-cover transition-transform duration-500 hover:scale-110" 
                                             alt="${offer.from} to ${offer.to}"
                                             loading="lazy">
                                        <div class="absolute top-4 left-4 bg-white/90 px-3 py-1.5 rounded-full text-xs font-bold text-electric shadow-lg">
                                            <i class="fa-solid fa-road mr-1"></i>${offer.distance} km
                                        </div>
                                        <div class="absolute top-4 right-4 gradient-primary text-white text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wider shadow-lg">
                                            ${offer.vehicle}
                                        </div>
                                    </div>
                                    <div class="p-6">
                                        <div class="flex justify-between items-start mb-4">
                                            <div>
                                                <div class="flex items-center gap-2 text-midnight font-bold text-xl mb-2">
                                                    <span class="bg-electric/10 px-3 py-1 rounded-lg">${offer.from.split(' ')[0]}</span>
                                                    <i class="fa-solid fa-arrow-right text-sunset"></i>
                                                    <span class="bg-teagreen/10 px-3 py-1 rounded-lg">${offer.to.split(' ')[0]}</span>
                                                </div>
                                                <p class="text-sm text-slate">${offer.vehicle} ‚Ä¢ ${offer.duration}</p>
                                            </div>
                                            <div class="text-right">
                                                <p class="text-2xl font-serif text-sunset font-bold">‚Çπ${offer.price.toLocaleString()}</p>
                                                <p class="text-xs text-slate">‚Çπ${offer.rate}/km</p>
                                            </div>
                                        </div>
                                        <button onclick="bookOffer('${offer.id}')" 
                                                class="w-full gradient-primary text-white py-3 rounded-xl font-bold text-sm uppercase tracking-widest hover:opacity-90 transition-all duration-300 mobile-tap group">
                                            <i class="fa-solid fa-bolt mr-2 group-hover:rotate-12 transition-transform"></i>${getTranslation('book-now')}
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </section>

                <!-- Featured Tour Packages -->
                <section class="section-spacing bg-gradient-to-b from-white to-cream/50">
                    <div class="container mx-auto px-4">
                        <div class="text-center mb-12">
                            <span class="text-melon font-bold tracking-[0.3em] text-xs uppercase mb-3 block">${getTranslation('tours-subtitle')}</span>
                            <h2 class="font-serif text-3xl md:text-4xl text-midnight mb-4">${getTranslation('tours-title')}</h2>
                            <p class="text-slate max-w-2xl mx-auto">${getTranslation('tours-description')}</p>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            ${TOURS.map(tour => `
                                <div class="tour-card group cursor-pointer" onclick="router.navigate('tour-detail', '${tour.id}')">
                                    <div class="h-64 overflow-hidden">
                                        <img src="${tour.image}" 
                                             class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" 
                                             alt="${tour.title}"
                                             loading="lazy">
                                        <div class="absolute top-4 right-4 bg-white/90 px-3 py-1 rounded-full text-xs font-bold text-electric shadow-sm">
                                            <i class="fa-solid fa-star text-sunset mr-1"></i> ${tour.rating}
                                        </div>
                                        <div class="absolute bottom-4 left-4 gradient-primary text-white text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wider shadow-lg">
                                            ${tour.duration}
                                        </div>
                                    </div>
                                    <div class="p-6">
                                        <div class="flex justify-between items-start mb-4">
                                            <h3 class="font-serif text-2xl text-midnight group-hover:text-electric transition-colors">${tour.title}</h3>
                                            <span class="text-sm text-slate font-semibold bg-slate/10 px-3 py-1 rounded-full">${tour.region}</span>
                                        </div>
                                        <p class="text-slate mb-6 line-clamp-2">${tour.desc}</p>
                                        <div class="flex justify-between items-center">
                                            <div class="text-sunset font-bold text-2xl">‚Çπ${tour.price.toLocaleString()}</div>
                                            <span class="text-sm text-electric font-bold uppercase tracking-wider flex items-center group-hover:gap-3 transition-all">
                                                ${getTranslation('explore')}
                                                <i class="fa-solid fa-arrow-right ml-2 group-hover:translate-x-2 transition-transform"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="text-center mt-12">
                            <button onclick="router.navigate('tours')" 
                                    class="btn-premium mobile-tap group">
                                ${getTranslation('view-all-tours')}
                                <i class="fa-solid fa-arrow-right ml-3 group-hover:translate-x-2 transition-transform"></i>
                            </button>
                        </div>
                    </div>
                </section>
            `;
        }

        // Enhanced Rides Page with Google Maps Integration
        function renderRides(container) {
            const { step, pickup, drop, date, time, tripType, distance, loading } = state.ride;

            container.innerHTML = `
                <div class="min-h-screen bg-gradient-to-br from-cream to-white py-8 animate-fade-up">
                    <div class="container mx-auto px-4">
                        <!-- Header -->
                        <div class="text-center mb-12">
                            <div class="flex items-center justify-center gap-3 mb-6">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkxu33iPyC1P4owLKMzPJb_c-8P7p37rV01g&s" 
                                     alt="GAANYOGI Logo" 
                                     class="logo-img w-16 h-16 object-contain">
                                <div>
                                    <h1 class="font-serif text-4xl md:text-5xl text-midnight mb-2">${getTranslation('rides-title')}</h1>
                                    <p class="text-slate text-lg">${getTranslation('rides-subtitle')}</p>
                                </div>
                            </div>
                        </div>

                        <!-- Step Progress -->
                        <div class="max-w-4xl mx-auto mb-12">
                            <div class="flex justify-between items-center">
                                ${[1, 2, 3, 4, 5].map(stepNum => `
                                    <div class="flex flex-col items-center">
                                        <div class="step-indicator ${step >= stepNum ? 'active' : ''} ${step > stepNum ? 'completed' : ''}">
                                            ${step > stepNum ? '<i class="fa-solid fa-check"></i>' : stepNum}
                                        </div>
                                        <span class="text-xs font-medium text-slate mt-2">${getTranslation('step-' + stepNum)}</span>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="h-1 bg-electric/10 mt-6 rounded-full">
                                <div class="h-full bg-gradient-to-r from-electric to-teagreen rounded-full transition-all duration-500" 
                                     style="width: ${(step - 1) * 25}%"></div>
                            </div>
                        </div>

                        <!-- Step 1: Trip Details -->
                        <div class="${step === 1 ? 'block' : 'hidden'} max-w-2xl mx-auto">
                            <div class="glass p-8 rounded-3xl shadow-xl">
                                <h3 class="font-serif text-2xl text-midnight mb-6">${getTranslation('step-1')}</h3>
                                <div class="space-y-6">
                                    <div>
                                        <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('pickup-label')}</label>
                                        <input id="pickup-input" value="${pickup}" 
                                               class="w-full bg-cream border-2 border-electric/20 rounded-xl p-4 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none text-lg mobile-tap"
                                               placeholder="${getTranslation('pickup-placeholder')}">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('destination-label')}</label>
                                        <input id="drop-input" value="${drop}" 
                                               class="w-full bg-cream border-2 border-electric/20 rounded-xl p-4 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none text-lg mobile-tap"
                                               placeholder="${getTranslation('destination-placeholder')}">
                                    </div>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('date-label')}</label>
                                            <input type="date" id="date-input" value="${date}" 
                                                   class="w-full bg-cream border-2 border-electric/20 rounded-xl p-4 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none mobile-tap">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('time-label')}</label>
                                            <input type="time" id="time-input" value="${time}" 
                                                   class="w-full bg-cream border-2 border-electric/20 rounded-xl p-4 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none mobile-tap">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('trip-type-label')}</label>
                                        <div class="flex gap-4">
                                            <button type="button" 
                                                    onclick="state.ride.tripType = 'one-way'; renderRides(document.getElementById('app-root'))"
                                                    class="flex-1 py-4 rounded-xl border-2 ${tripType === 'one-way' ? 'border-electric bg-electric/10 text-electric' : 'border-electric/20 text-slate'} font-semibold mobile-tap">
                                                ${getTranslation('one-way')}
                                            </button>
                                            <button type="button" 
                                                    onclick="state.ride.tripType = 'round-trip'; renderRides(document.getElementById('app-root'))"
                                                    class="flex-1 py-4 rounded-xl border-2 ${tripType === 'round-trip' ? 'border-electric bg-electric/10 text-electric' : 'border-electric/20 text-slate'} font-semibold mobile-tap">
                                                ${getTranslation('round-trip')}
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <button onclick="validateStep1()" 
                                            class="w-full btn-premium mobile-tap mt-8">
                                        ${getTranslation('next')} <i class="fa-solid fa-arrow-right ml-2"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Fare Calculation -->
                        <div class="${step === 2 ? 'block' : 'hidden'} max-w-2xl mx-auto">
                            <div class="glass p-8 rounded-3xl shadow-xl">
                                <h3 class="font-serif text-2xl text-midnight mb-6">${getTranslation('step-2')}</h3>
                                
                                ${distance > 0 ? `
                                    <div class="bg-teagreen/10 p-6 rounded-2xl border-2 border-teagreen/30 mb-8">
                                        <div class="text-center">
                                            <p class="text-sm text-slate mb-2">${getTranslation('distance')}</p>
                                            <p class="text-5xl font-serif text-midnight">${distance.toFixed(1)}<span class="text-xl text-sunset"> km</span></p>
                                        </div>
                                        <div class="grid grid-cols-2 gap-4 mt-6">
                                            <div class="bg-white p-4 rounded-xl text-center">
                                                <p class="text-xs text-slate mb-1">Cruiser (‚Çπ16/km)</p>
                                                <p class="text-2xl font-bold text-sunset">‚Çπ${Math.round(distance * 16).toLocaleString()}</p>
                                            </div>
                                            <div class="bg-white p-4 rounded-xl text-center">
                                                <p class="text-xs text-slate mb-1">Car (‚Çπ14/km)</p>
                                                <p class="text-2xl font-bold text-electric">‚Çπ${Math.round(distance * 14).toLocaleString()}</p>
                                            </div>
                                        </div>
                                        ${tripType === 'round-trip' ? `
                                        <div class="mt-4 pt-4 border-t border-teagreen/30">
                                            <p class="text-sm text-slate text-center mb-2">Round Trip Total (2√ó)</p>
                                            <div class="grid grid-cols-2 gap-4">
                                                <div class="bg-white p-3 rounded-xl text-center">
                                                    <p class="text-xs text-slate">Cruiser</p>
                                                    <p class="text-xl font-bold text-sunset">‚Çπ${Math.round(distance * 16 * 2).toLocaleString()}</p>
                                                </div>
                                                <div class="bg-white p-3 rounded-xl text-center">
                                                    <p class="text-xs text-slate">Car</p>
                                                    <p class="text-xl font-bold text-electric">‚Çπ${Math.round(distance * 14 * 2).toLocaleString()}</p>
                                                </div>
                                            </div>
                                        </div>
                                        ` : ''}
                                    </div>
                                    
                                    <div class="flex gap-4">
                                        <button onclick="goToStep(1)" 
                                                class="flex-1 bg-cream text-slate border-2 border-electric/20 py-4 rounded-xl font-semibold mobile-tap">
                                            <i class="fa-solid fa-arrow-left mr-2"></i>${getTranslation('previous')}
                                        </button>
                                        <button onclick="goToStep(3)" 
                                                class="flex-1 btn-premium mobile-tap">
                                            ${getTranslation('next')} <i class="fa-solid fa-arrow-right ml-2"></i>
                                        </button>
                                    </div>
                                ` : `
                                    <div class="text-center py-12">
                                        ${loading ? `
                                            <div class="flex flex-col items-center">
                                                <div class="loader w-12 h-12 border-4 border-electric/20 border-t-electric rounded-full animate-spin mb-4"></div>
                                                <p class="text-slate">${getTranslation('calculating')}</p>
                                            </div>
                                        ` : `
                                            <button onclick="calculateRideDistance()" 
                                                    class="btn-premium px-12 py-6 text-lg">
                                                ${getTranslation('calculate-fare')} <i class="fa-solid fa-calculator ml-2"></i>
                                            </button>
                                            <p class="text-slate mt-6">We'll calculate the exact distance using Google Maps and show you the estimated fare.</p>
                                        `}
                                        
                                        <button onclick="goToStep(1)" 
                                                class="mt-8 bg-cream text-slate border-2 border-electric/20 px-8 py-3 rounded-xl font-semibold mobile-tap">
                                            <i class="fa-solid fa-arrow-left mr-2"></i>${getTranslation('previous')}
                                        </button>
                                    </div>
                                `}
                            </div>
                        </div>

                        <!-- Step 3: Vehicle Selection -->
                        <div class="${step === 3 ? 'block' : 'hidden'} max-w-4xl mx-auto">
                            <div class="glass p-8 rounded-3xl shadow-xl">
                                <div class="flex justify-between items-center mb-8">
                                    <h3 class="font-serif text-2xl text-midnight">${getTranslation('step-3')}</h3>
                                    <div class="text-right">
                                        <p class="text-sm text-slate">${getTranslation('distance')}</p>
                                        <p class="text-xl font-bold text-midnight">${distance.toFixed(1)} km</p>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    ${VEHICLES.map(v => {
                                        const baseFare = state.ride.fixedPrice || Math.round(distance * v.rate);
                                        const totalFare = state.ride.tripType === 'round-trip' ? baseFare * 2 : baseFare;
                                        const colorClass = v.color === 'electric' ? 'border-electric hover:border-electric' : 
                                                          v.color === 'sunset' ? 'border-sunset hover:border-sunset' : 
                                                          'border-melon hover:border-melon';
                                        return `
                                        <div onclick="selectVehicle('${v.id}', ${totalFare})" 
                                             class="p-6 rounded-2xl border-2 ${colorClass}/20 hover:border-2 cursor-pointer transition-all duration-300 hover:shadow-xl bg-white ${state.ride.selectedVehicle?.id === v.id ? 'border-2 ' + colorClass : ''}">
                                            <div class="flex gap-6">
                                                <div class="w-24 h-24 rounded-xl overflow-hidden flex-shrink-0">
                                                    <img src="${v.img}" class="w-full h-full object-cover" alt="${v.name}" loading="lazy">
                                                </div>
                                                <div class="flex-1">
                                                    <h4 class="font-bold text-midnight text-lg mb-2">${v.name}</h4>
                                                    <div class="flex flex-wrap gap-2 mb-3">
                                                        <span class="text-xs bg-electric/10 text-electric px-3 py-1 rounded-full">${v.type}</span>
                                                        <span class="text-xs bg-teagreen/10 text-midnight px-3 py-1 rounded-full">
                                                            <i class="fa-solid fa-user mr-1"></i>${v.seats} ${getTranslation('seats')}
                                                        </span>
                                                        <span class="text-xs ${v.ac ? 'bg-sunset/10 text-sunset' : 'bg-slate/10 text-slate'} px-3 py-1 rounded-full">
                                                            ${v.ac ? getTranslation('ac') : getTranslation('non-ac')}
                                                        </span>
                                                    </div>
                                                    <div class="flex justify-between items-end">
                                                        <div>
                                                            <p class="text-sm text-slate">Rate</p>
                                                            <p class="text-lg font-bold text-midnight">‚Çπ${v.rate}/km</p>
                                                        </div>
                                                        <div class="text-right">
                                                            <p class="text-sm text-slate">Total Fare</p>
                                                            <p class="text-2xl font-bold text-sunset">‚Çπ${totalFare.toLocaleString()}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    `}).join('')}
                                </div>
                                
                                <div class="flex gap-4 mt-8">
                                    <button onclick="goToStep(2)" 
                                            class="flex-1 bg-cream text-slate border-2 border-electric/20 py-4 rounded-xl font-semibold mobile-tap">
                                        <i class="fa-solid fa-arrow-left mr-2"></i>${getTranslation('previous')}
                                    </button>
                                    <button onclick="goToStep(4)" 
                                            class="flex-1 btn-premium mobile-tap ${!state.ride.selectedVehicle ? 'opacity-50 cursor-not-allowed' : ''}"
                                            ${!state.ride.selectedVehicle ? 'disabled' : ''}>
                                        ${getTranslation('next')} <i class="fa-solid fa-arrow-right ml-2"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Customer Details -->
                        <div class="${step === 4 ? 'block' : 'hidden'} max-w-2xl mx-auto">
                            <div class="glass p-8 rounded-3xl shadow-xl">
                                <h3 class="font-serif text-2xl text-midnight mb-6">${getTranslation('step-4')}</h3>
                                
                                <div class="space-y-6">
                                    <div>
                                        <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('full-name')}</label>
                                        <input id="customer-name" value="" 
                                               class="w-full bg-cream border-2 border-electric/20 rounded-xl p-4 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none mobile-tap"
                                               placeholder="${getTranslation('full-name-placeholder')}">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('phone')}</label>
                                        <input id="customer-phone" type="tel" value="" 
                                               class="w-full bg-cream border-2 border-electric/20 rounded-xl p-4 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none mobile-tap"
                                               placeholder="${getTranslation('phone-placeholder')}">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('passengers-label')}</label>
                                        <input id="passenger-count" type="number" min="1" max="${state.ride.selectedVehicle?.seats || 14}" 
                                               value="${state.ride.passengerCount}"
                                               class="w-full bg-cream border-2 border-electric/20 rounded-xl p-4 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none mobile-tap">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold text-slate mb-2">${getTranslation('notes-label')}</label>
                                        <textarea id="special-notes" 
                                                  class="w-full bg-cream border-2 border-electric/20 rounded-xl p-4 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none mobile-tap h-32 resize-none"
                                                  placeholder="${getTranslation('notes-placeholder')}">${state.ride.notes}</textarea>
                                    </div>
                                    
                                    <div class="flex gap-4">
                                        <button onclick="goToStep(3)" 
                                                class="flex-1 bg-cream text-slate border-2 border-electric/20 py-4 rounded-xl font-semibold mobile-tap">
                                            <i class="fa-solid fa-arrow-left mr-2"></i>${getTranslation('previous')}
                                        </button>
                                        <button onclick="validateStep4()" 
                                                class="flex-1 btn-premium mobile-tap">
                                            ${getTranslation('next')} <i class="fa-solid fa-arrow-right ml-2"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 5: Confirmation -->
                        <div class="${step === 5 ? 'block' : 'hidden'} max-w-2xl mx-auto">
                            <div class="glass p-8 rounded-3xl shadow-xl">
                                <h3 class="font-serif text-2xl text-midnight mb-6">${getTranslation('step-5')}</h3>
                                
                                <div class="space-y-6">
                                    <!-- Booking Summary -->
                                    <div class="bg-teagreen/10 p-6 rounded-2xl border-2 border-teagreen/30">
                                        <h4 class="font-bold text-midnight mb-4 text-lg">Booking Summary</h4>
                                        <div class="space-y-3">
                                            <div class="flex justify-between">
                                                <span class="text-slate">Route:</span>
                                                <span class="font-semibold">${state.ride.pickup} ‚Üí ${state.ride.drop}</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-slate">Date & Time:</span>
                                                <span class="font-semibold">${state.ride.date} at ${state.ride.time}</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-slate">Trip Type:</span>
                                                <span class="font-semibold">${state.ride.tripType === 'one-way' ? 'One Way' : 'Round Trip'}</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-slate">Vehicle:</span>
                                                <span class="font-semibold">${state.ride.selectedVehicle?.name}</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-slate">Passengers:</span>
                                                <span class="font-semibold">${state.ride.passengerCount}</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-slate">Distance:</span>
                                                <span class="font-semibold">${distance.toFixed(1)} km</span>
                                            </div>
                                            <div class="flex justify-between border-t border-teagreen/30 pt-3 mt-3">
                                                <span class="text-slate text-lg">Total Amount:</span>
                                                <span class="text-2xl font-bold text-sunset">
                                                    ‚Çπ${calculateTotalFare().toLocaleString()}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Payment QR -->
                                    <div class="bg-white p-6 rounded-2xl border-2 border-electric/20 text-center">
                                        <p class="font-bold text-midnight mb-3">${getTranslation('scan-pay')}</p>
                                        <div class="inline-block p-4 bg-white rounded-xl border border-electric/20">
                                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=gaanyogitours@okicici&pn=Gaanyogi Tours&am=${calculateTotalFare()}&cu=INR&tn=Ride Booking ${encodeURIComponent(state.ride.pickup + ' to ' + state.ride.drop)}" 
                                                 class="w-48 h-48" 
                                                 alt="UPI QR Code"
                                                 loading="lazy">
                                        </div>
                                        <p class="text-sm text-slate mt-3">${getTranslation('upi-id')}</p>
                                        <p class="text-xs text-slate mt-2">After payment, please send screenshot to WhatsApp +91 7743805933</p>
                                    </div>
                                    
                                    <!-- Confirmation Button -->
                                    <div class="text-center">
                                        <button onclick="submitRideBooking()" 
                                                class="btn-premium px-12 py-6 text-lg mobile-tap">
                                            <i class="fa-solid fa-check-circle mr-2"></i>${getTranslation('confirm-booking')}
                                        </button>
                                        <p class="text-sm text-slate mt-4">
                                            ${getTranslation('whatsapp-desc')}
                                        </p>
                                    </div>
                                    
                                    <button onclick="goToStep(4)" 
                                            class="w-full bg-cream text-slate border-2 border-electric/20 py-4 rounded-xl font-semibold mobile-tap">
                                        <i class="fa-solid fa-arrow-left mr-2"></i>${getTranslation('previous')}
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Popular Routes (Always visible) -->
                        <div class="mt-16">
                            <h3 class="font-serif text-2xl text-midnight mb-8 text-center">${getTranslation('rides-popular')}</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                ${RIDE_OFFERS.slice(0, 6).map(offer => `
                                    <div onclick="bookOffer('${offer.id}')" 
                                         class="premium-card p-6 cursor-pointer">
                                        <div class="flex justify-between items-start mb-4">
                                            <div>
                                                <div class="flex items-center gap-2 text-midnight font-bold text-xl mb-2">
                                                    <span>${offer.from.split(' ')[0]}</span>
                                                    <i class="fa-solid fa-arrow-right text-sunset"></i>
                                                    <span>${offer.to.split(' ')[0]}</span>
                                                </div>
                                                <p class="text-sm text-slate">${offer.vehicle} ‚Ä¢ ${offer.duration}</p>
                                            </div>
                                            <span class="text-2xl font-serif text-sunset font-bold">‚Çπ${offer.price.toLocaleString()}</span>
                                        </div>
                                        <div class="flex justify-between text-sm text-slate mb-4">
                                            <span class="flex items-center">
                                                <i class="fa-solid fa-road mr-2 text-electric"></i> ${offer.distance} km
                                            </span>
                                            <span class="flex items-center">
                                                <i class="fa-solid fa-clock mr-2 text-teagreen"></i> ${offer.duration}
                                            </span>
                                        </div>
                                        <button onclick="bookOffer('${offer.id}')" 
                                                class="w-full bg-electric/10 text-electric py-3 rounded-xl font-bold text-sm hover:bg-electric hover:text-white transition-colors duration-300 mobile-tap">
                                            ${getTranslation('book-now')}
                                        </button>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Calculate total fare
        function calculateTotalFare() {
            if (state.ride.fixedPrice) {
                return state.ride.tripType === 'round-trip' ? state.ride.fixedPrice * 2 : state.ride.fixedPrice;
            }
            
            if (!state.ride.selectedVehicle || state.ride.distance === 0) return 0;
            
            const baseFare = Math.round(state.ride.distance * state.ride.selectedVehicle.rate);
            return state.ride.tripType === 'round-trip' ? baseFare * 2 : baseFare;
        }

        // Step validation functions
        function validateStep1() {
            const pickupInput = document.getElementById('pickup-input');
            const dropInput = document.getElementById('drop-input');
            
            if (!pickupInput || !dropInput) return;
            
            state.ride.pickup = pickupInput.value.trim();
            state.ride.drop = dropInput.value.trim();
            
            if (!state.ride.pickup) {
                showToast(getTranslation('enter-pickup'), 'error');
                return;
            }
            
            if (!state.ride.drop) {
                showToast(getTranslation('enter-destination'), 'error');
                return;
            }
            
            goToStep(2);
        }

        function validateStep4() {
            const nameInput = document.getElementById('customer-name');
            const phoneInput = document.getElementById('customer-phone');
            const passengerInput = document.getElementById('passenger-count');
            const notesInput = document.getElementById('special-notes');
            
            if (!nameInput || !phoneInput || !passengerInput) return;
            
            const name = nameInput.value.trim();
            const phone = phoneInput.value.trim();
            const passengers = parseInt(passengerInput.value) || 1;
            
            if (!name) {
                showToast('Please enter your name', 'error');
                return;
            }
            
            if (!phone || phone.length < 10) {
                showToast('Please enter a valid phone number', 'error');
                return;
            }
            
            if (passengers < 1 || passengers > (state.ride.selectedVehicle?.seats || 14)) {
                showToast(`Please enter valid passenger count (1-${state.ride.selectedVehicle?.seats || 14})`, 'error');
                return;
            }
            
            state.ride.passengerCount = passengers;
            if (notesInput) {
                state.ride.notes = notesInput.value.trim();
            }
            
            goToStep(5);
        }

        // Helper function for ride booking steps
        function goToStep(stepNumber) {
            state.ride.step = stepNumber;
            renderRides(document.getElementById('app-root'));
        }

        function selectVehicle(vehicleId, fare) {
            const vehicle = VEHICLES.find(v => v.id === vehicleId);
            if (vehicle) {
                state.ride.selectedVehicle = vehicle;
                renderRides(document.getElementById('app-root'));
            }
        }

        // Calculate ride distance using Google Maps API
        async function calculateRideDistance() {
            const pickupInput = document.getElementById('pickup-input');
            const dropInput = document.getElementById('drop-input');
            
            if (!pickupInput || !dropInput) return;
            
            const pickup = pickupInput.value.trim();
            const drop = dropInput.value.trim();
            
            if (!pickup || !drop) {
                showToast(getTranslation('toast-location-error'), 'error');
                return;
            }
            
            state.ride.pickup = pickup;
            state.ride.drop = drop;
            state.ride.loading = true;
            state.ride.step = 2;
            
            renderRides(document.getElementById('app-root'));
            
            try {
                initGoogleMaps();
                const distance = await calculateDistance(pickup, drop);
                state.ride.distance = distance;
                state.ride.loading = false;
                
                renderRides(document.getElementById('app-root'));
                showToast(getTranslation('toast-distance-success', {distance: distance.toFixed(1)}), 'success');
            } catch (error) {
                console.error('Distance calculation error:', error);
                state.ride.loading = false;
                
                // Fallback to approximate calculation
                const mockDistance = 40 + Math.random() * 200;
                state.ride.distance = mockDistance;
                
                renderRides(document.getElementById('app-root'));
                showToast(`Approximate distance calculated: ${mockDistance.toFixed(1)} km`, 'info');
            }
        }

        function bookOffer(offerId) {
            const offer = RIDE_OFFERS.find(o => o.id === offerId);
            if (!offer) return;
            
            const vehicle = VEHICLES.find(v => v.rate === offer.rate) || VEHICLES[0];
            
            state.ride.pickup = offer.from;
            state.ride.drop = offer.to;
            state.ride.distance = parseFloat(offer.distance) || 50;
            state.ride.fixedPrice = offer.price;
            state.ride.selectedVehicle = vehicle;
            state.ride.step = 3;
            
            router.navigate('rides');
        }

        // Submit ride booking
        async function submitRideBooking() {
            const nameInput = document.getElementById('customer-name');
            const phoneInput = document.getElementById('customer-phone');
            
            if (!nameInput || !phoneInput) return;
            
            const name = nameInput.value.trim();
            const phone = phoneInput.value.trim();
            
            if (!name || !phone) {
                showToast('Please fill all required fields', 'error');
                return;
            }
            
            const totalFare = calculateTotalFare();
            
            // Create WhatsApp message
            const whatsappMessage = `üöó *NEW RIDE BOOKING REQUEST* üöó

*Customer Details:*
üë§ Name: ${name}
üìû Phone: ${phone}
üë• Passengers: ${state.ride.passengerCount}

*Trip Details:*
üìç From: ${state.ride.pickup}
üéØ To: ${state.ride.drop}
üìÖ Date: ${state.ride.date}
‚è∞ Time: ${state.ride.time}
üîÑ Trip Type: ${state.ride.tripType === 'one-way' ? 'One Way' : 'Round Trip'}

*Vehicle Details:*
üöò Vehicle: ${state.ride.selectedVehicle?.name}
üí∫ Seats: ${state.ride.selectedVehicle?.seats}
üéö Type: ${state.ride.selectedVehicle?.type}
üìè Distance: ${state.ride.distance.toFixed(1)} km

*Payment Details:*
üí∞ Total Amount: ‚Çπ${totalFare.toLocaleString()}
üí≥ UPI ID: gaanyogitours@okicici

*Special Requirements:*
${state.ride.notes || 'None'}

---
*Instructions for Customer:*
1. Please complete payment of ‚Çπ${totalFare} to UPI ID: gaanyogitours@okicici
2. Send payment screenshot to this WhatsApp number
3. Your booking will be confirmed within 15 minutes
4. For any queries, call +91 7743805933

*Note:* Please attach your money transfer screenshot in reply to this message for confirmation.`;

            // Open WhatsApp with pre-filled message
            const whatsappUrl = `https://wa.me/917743805933?text=${encodeURIComponent(whatsappMessage)}`;
            window.open(whatsappUrl, '_blank');
            
            // Save to Firebase
            try {
                const bookingData = {
                    type: 'ride',
                    customerName: name,
                    customerPhone: phone,
                    pickupLocation: state.ride.pickup,
                    destination: state.ride.drop,
                    vehicleType: state.ride.selectedVehicle?.name,
                    vehicleDetails: `${state.ride.selectedVehicle?.type}, ${state.ride.selectedVehicle?.seats} seats`,
                    distance: state.ride.distance.toFixed(1),
                    fare: totalFare,
                    passengerCount: state.ride.passengerCount,
                    tripType: state.ride.tripType,
                    travelDate: state.ride.date,
                    travelTime: state.ride.time,
                    notes: state.ride.notes,
                    timestamp: serverTimestamp(),
                    status: 'pending_payment',
                    paymentUpi: 'gaanyogitours@okicici'
                };
                
                await addDoc(collection(db, 'bookings'), bookingData);
                
                showToast(getTranslation('toast-payment-required'), 'info', 5000);
                
                // Reset ride state
                setTimeout(() => {
                    state.ride = {
                        step: 1,
                        pickup: '',
                        drop: '',
                        date: new Date().toISOString().split('T')[0],
                        time: '09:00',
                        tripType: 'one-way',
                        distance: 0,
                        loading: false,
                        selectedVehicle: null,
                        fixedPrice: null,
                        passengerCount: 1,
                        notes: ''
                    };
                    router.navigate('rides');
                }, 3000);
                
            } catch (error) {
                console.error('Booking error:', error);
                showToast(getTranslation('toast-booking-error'), 'error');
            }
        }

        // Tours Page
        function renderTours(container) {
            container.innerHTML = `
                <div class="container mx-auto px-4 py-8 animate-fade-up">
                    <div class="mb-12 text-center">
                        <span class="text-melon font-bold tracking-[0.3em] text-xs uppercase mb-3 block">${getTranslation('tours-page-subtitle')}</span>
                        <h1 class="font-serif text-4xl md:text-5xl text-midnight mb-4">${getTranslation('tours-page-title')}</h1>
                        <p class="text-slate max-w-2xl mx-auto text-lg">${getTranslation('tours-page-description')}</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        ${TOURS.map(t => `
                            <div class="premium-card group cursor-pointer" onclick="router.navigate('tour-detail', '${t.id}')">
                                <div class="h-72 overflow-hidden relative">
                                    <img src="${t.image}" 
                                         class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" 
                                         alt="${t.title}"
                                         loading="lazy">
                                    <div class="absolute inset-0 bg-gradient-to-t from-midnight/80 via-transparent to-transparent"></div>
                                    <div class="absolute top-6 right-6 bg-white/90 px-4 py-2 rounded-full text-sm font-bold text-electric shadow-lg">
                                        <i class="fa-solid fa-star text-sunset mr-2"></i> ${t.rating}
                                    </div>
                                    <div class="absolute bottom-6 left-6">
                                        <h3 class="font-serif text-2xl text-white mb-2">${t.title}</h3>
                                        <span class="text-sm text-white/90 font-semibold">${t.region} ‚Ä¢ ${t.duration}</span>
                                    </div>
                                </div>
                                <div class="p-8">
                                    <p class="text-slate mb-6 leading-relaxed">${t.desc}</p>
                                    <div class="flex justify-between items-center">
                                        <div class="text-sunset font-bold text-3xl">‚Çπ${t.price.toLocaleString()}</div>
                                        <div class="text-electric font-bold uppercase tracking-wider flex items-center gap-3 group-hover:gap-4 transition-all">
                                            ${getTranslation('view-details')}
                                            <i class="fa-solid fa-arrow-right group-hover:translate-x-2 transition-transform"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>`;
        }

        // Tour Detail Page
        function renderTourDetail(container, tourId) {
            const tour = TOURS.find(t => t.id === tourId);
            if (!tour) return router.navigate('tours');

            // Generate itinerary based on duration
            const days = parseInt(tour.duration.split(' ')[0]);
            const itinerary = [];
            for (let i = 1; i <= days; i++) {
                itinerary.push(`Day ${i}: Explore ${tour.title} - ${tour.highlights[i-1] || 'Sightseeing and activities'}`);
            }

            container.innerHTML = `
                <div class="container mx-auto px-4 py-6 animate-fade-up">
                    <button onclick="router.navigate('tours')" 
                            class="text-slate hover:text-electric mb-6 flex items-center text-xs uppercase tracking-widest transition mobile-tap">
                        <i class="fa-solid fa-arrow-left mr-2"></i> ${getTranslation('back-tours')}
                    </button>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2 space-y-8">
                            <div class="rounded-3xl overflow-hidden shadow-2xl h-[400px] md:h-[500px] relative">
                                <img src="${tour.image}" class="w-full h-full object-cover" alt="${tour.title}" loading="lazy">
                                <div class="absolute inset-0 bg-gradient-to-t from-midnight/80 to-transparent"></div>
                                <div class="absolute bottom-8 left-8">
                                    <h1 class="font-serif text-4xl md:text-5xl text-white mb-4">${tour.title}</h1>
                                    <div class="flex flex-wrap gap-4 text-sm text-white/90 font-bold">
                                        <span class="flex items-center"><i class="fa-solid fa-map-pin mr-3 text-teagreen"></i>${tour.region}</span>
                                        <span class="flex items-center"><i class="fa-regular fa-clock mr-3 text-teagreen"></i>${tour.duration}</span>
                                        <span class="flex items-center"><i class="fa-solid fa-star mr-3 text-teagreen"></i>${tour.rating} Rating</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="glass p-8 rounded-3xl shadow-xl">
                                <h3 class="font-serif text-2xl text-midnight mb-6">${getTranslation('tour-overview')}</h3>
                                <p class="text-slate leading-relaxed mb-8 text-lg">${tour.desc}</p>
                                
                                <h3 class="font-serif text-2xl text-midnight mb-6">${getTranslation('tour-highlights')}</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    ${tour.highlights.map((h, i) => `
                                        <div class="flex items-center bg-gradient-to-r from-teagreen/20 to-electric/20 p-5 rounded-2xl border border-teagreen/30 text-midnight">
                                            <div class="w-10 h-10 rounded-full bg-teagreen text-midnight flex items-center justify-center mr-4 font-bold text-lg">${i + 1}</div>
                                            <span class="font-semibold">${h}</span>
                                        </div>
                                    `).join('')}
                                </div>
                                
                                <h3 class="font-serif text-2xl text-midnight mt-10 mb-6">Tour Itinerary</h3>
                                <div class="space-y-4">
                                    ${itinerary.map((day, i) => `
                                        <div class="bg-cream p-5 rounded-2xl border border-electric/20">
                                            <div class="flex items-center gap-4">
                                                <div class="w-12 h-12 rounded-full gradient-primary flex items-center justify-center text-white font-bold">
                                                    ${i + 1}
                                                </div>
                                                <div>
                                                    <h4 class="font-bold text-midnight">${getTranslation('day-' + (i + 1))}</h4>
                                                    <p class="text-slate">${day}</p>
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>

                        <div class="lg:col-span-1">
                            <div class="glass p-8 rounded-3xl sticky top-24 border border-electric/10 shadow-2xl">
                                <div class="text-center mb-8 border-b border-electric/10 pb-8">
                                    <p class="text-slate text-xs uppercase tracking-widest font-bold">${getTranslation('package-price')}</p>
                                    <p class="text-4xl md:text-5xl font-serif text-sunset mt-2 font-bold">‚Çπ${(tour.price).toLocaleString()}</p>
                                    <p class="text-sm text-slate mt-1">${getTranslation('inclusive')}</p>
                                </div>
                                
                                <div class="space-y-5 mb-8">
                                    <div class="flex items-center text-midnight">
                                        <i class="fa-solid fa-check text-teagreen mr-4 w-6 text-lg"></i>
                                        <span>${getTranslation('tour-includes-1')}</span>
                                    </div>
                                    <div class="flex items-center text-midnight">
                                        <i class="fa-solid fa-shield-halved text-teagreen mr-4 w-6 text-lg"></i>
                                        <span>${getTranslation('tour-includes-2')}</span>
                                    </div>
                                    <div class="flex items-center text-midnight">
                                        <i class="fa-solid fa-user-tie text-teagreen mr-4 w-6 text-lg"></i>
                                        <span>${getTranslation('tour-includes-3')}</span>
                                    </div>
                                    <div class="flex items-center text-midnight">
                                        <i class="fa-solid fa-hotel text-teagreen mr-4 w-6 text-lg"></i>
                                        <span>${getTranslation('tour-includes-4')}</span>
                                    </div>
                                    <div class="flex items-center text-midnight">
                                        <i class="fa-solid fa-utensils text-teagreen mr-4 w-6 text-lg"></i>
                                        <span>${getTranslation('tour-includes-5')}</span>
                                    </div>
                                    <div class="flex items-center text-midnight">
                                        <i class="fa-solid fa-car text-teagreen mr-4 w-6 text-lg"></i>
                                        <span>${getTranslation('tour-includes-6')}</span>
                                    </div>
                                </div>
                                
                                <button onclick="router.navigate('booking', '${tour.id}')" 
                                        class="w-full gradient-sunset text-white py-5 rounded-2xl font-bold uppercase tracking-widest text-sm hover:opacity-90 transition shadow-2xl mobile-tap">
                                    <i class="fa-solid fa-calendar-check mr-3"></i>${getTranslation('tour-book-now')}
                                </button>
                                
                                <div class="text-center mt-8">
                                    <p class="text-sm text-slate">
                                        <i class="fa-solid fa-phone-volume mr-2 text-electric"></i>
                                        ${getTranslation('tour-help')}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
        }

        // Booking Page for Tours
        function renderBooking(container, tourId) {
            const tour = TOURS.find(t => t.id === tourId);
            if (!tour) return router.navigate('tours');
            
            const total = tour.price;

            container.innerHTML = `
                <div class="max-w-2xl mx-auto py-8 px-4 animate-fade-up">
                    <div class="glass p-8 rounded-3xl border border-electric/10 shadow-2xl">
                        <div class="mb-8">
                            <div class="flex items-center gap-4 mb-6">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkxu33iPyC1P4owLKMzPJb_c-8P7p37rV01g&s" 
                                     alt="GAANYOGI Logo" 
                                     class="logo-img w-14 h-14 object-contain">
                                <div>
                                    <h2 class="font-serif text-3xl md:text-4xl text-midnight mb-2">${getTranslation('booking-title')}</h2>
                                    <p class="text-slate text-lg">${getTranslation('booking-subtitle')} <span class="font-bold text-electric">${tour.title}</span></p>
                                </div>
                            </div>
                        </div>
                        
                        <form onsubmit="handleTourBookingSubmit(event, '${tour.id}', ${total})" class="space-y-8">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <label class="block text-sm font-semibold text-slate mb-3">${getTranslation('full-name')}</label>
                                    <input name="name" required 
                                           class="w-full bg-cream border-2 border-electric/20 rounded-2xl p-5 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none text-lg mobile-tap"
                                           placeholder="${getTranslation('full-name-placeholder')}">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-slate mb-3">${getTranslation('phone')}</label>
                                    <input name="phone" type="tel" required 
                                           class="w-full bg-cream border-2 border-electric/20 rounded-2xl p-5 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none text-lg mobile-tap"
                                           placeholder="${getTranslation('phone-placeholder')}">
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-semibold text-slate mb-3">${getTranslation('email')}</label>
                                    <input name="email" type="email" 
                                           class="w-full bg-cream border-2 border-electric/20 rounded-2xl p-5 text-midnight focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none text-lg mobile-tap"
                                           placeholder="${getTranslation('email-placeholder')}">
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-teagreen/20 to-electric/20 p-8 rounded-3xl border-2 border-dashed border-teagreen">
                                <div class="text-center mb-6">
                                    <p class="text-midnight font-bold text-xl">${getTranslation('total-amount')}: <span class="text-sunset text-4xl">‚Çπ${total.toLocaleString()}</span></p>
                                    <p class="text-sm text-slate mt-2">${getTranslation('inclusive')}</p>
                                </div>
                                <div class="text-center">
                                    <p class="text-lg font-bold text-midnight mb-4">${getTranslation('scan-pay')}</p>
                                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=gaanyogitours@okicici&pn=Gaanyogi Tours&am=${total}&cu=INR&tn=Tour Booking ${encodeURIComponent(tour.title)}" 
                                         class="w-56 h-56 mx-auto rounded-2xl mb-4 border-2 border-electric/20"
                                         alt="UPI QR Code"
                                         loading="lazy">
                                    <p class="text-sm text-slate">${getTranslation('upi-id')}</p>
                                    <p class="text-xs text-slate mt-2">After payment, please send screenshot to WhatsApp +91 7743805933</p>
                                </div>
                            </div>

                            <div class="bg-gradient-to-r from-electric/20 to-teagreen/20 text-midnight p-6 rounded-2xl border border-electric/30">
                                <div class="flex gap-4 items-start">
                                    <i class="fa-brands fa-whatsapp text-teagreen text-2xl mt-1"></i> 
                                    <div>
                                        <p class="font-bold text-lg mb-2">${getTranslation('whatsapp-confirm')}</p>
                                        <p class="text-slate">${getTranslation('whatsapp-desc')}</p>
                                        <p class="text-sm text-slate mt-3 font-semibold">*Note:* Please attach your money transfer screenshot in WhatsApp message for confirmation.</p>
                                    </div>
                                </div>
                            </div>

                            <button type="submit" 
                                    class="w-full gradient-sunset text-white py-5 rounded-2xl font-bold uppercase tracking-widest text-lg hover:opacity-90 transition shadow-2xl mobile-tap">
                                <i class="fa-solid fa-lock mr-3"></i>${getTranslation('send-confirmation')}
                            </button>
                        </form>
                    </div>
                </div>`;
        }

        // Handle tour booking submission
        async function handleTourBookingSubmit(event, tourId, totalAmount) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const name = formData.get('name');
            const phone = formData.get('phone');
            const email = formData.get('email');
            
            const tour = TOURS.find(t => t.id === tourId);
            if (!tour) return;
            
            // Create WhatsApp message
            const whatsappMessage = `üèõÔ∏è *NEW TOUR BOOKING REQUEST* üèõÔ∏è

*Customer Details:*
üë§ Name: ${name}
üìû Phone: ${phone}
üìß Email: ${email || 'Not provided'}

*Tour Details:*
üìç Tour: ${tour.title}
üèûÔ∏è Region: ${tour.region}
üìÖ Duration: ${tour.duration}
‚≠ê Rating: ${tour.rating}/5

*Payment Details:*
üí∞ Package Price: ‚Çπ${totalAmount.toLocaleString()}
üí≥ UPI ID: gaanyogitours@okicici

*Tour Highlights:*
${tour.highlights.map((h, i) => `‚Ä¢ ${h}`).join('\n')}

---
*Instructions for Customer:*
1. Please complete payment of ‚Çπ${totalAmount} to UPI ID: gaanyogitours@okicici
2. Send payment screenshot to this WhatsApp number
3. Detailed itinerary will be sent within 2 hours
4. For any queries, call +91 7743805933

*Note:* Please attach your money transfer screenshot in reply to this message for confirmation.`;

            // Open WhatsApp with pre-filled message
            const whatsappUrl = `https://wa.me/917743805933?text=${encodeURIComponent(whatsappMessage)}`;
            window.open(whatsappUrl, '_blank');
            
            // Save to Firebase
            try {
                const bookingData = {
                    type: 'tour',
                    customerName: name,
                    customerPhone: phone,
                    customerEmail: email || '',
                    tourName: tour.title,
                    tourRegion: tour.region,
                    tourDuration: tour.duration,
                    amount: totalAmount,
                    timestamp: serverTimestamp(),
                    status: 'pending_payment',
                    paymentUpi: 'gaanyogitours@okicici'
                };
                
                await addDoc(collection(db, 'bookings'), bookingData);
                
                showToast(getTranslation('toast-tour-booked'), 'success', 5000);
                
                setTimeout(() => {
                    router.navigate('tours');
                }, 3000);
                
            } catch (error) {
                console.error('Tour booking error:', error);
                showToast(getTranslation('toast-booking-error'), 'error');
            }
        }

        // Admin Page
        function renderAdmin(container) {
            if (!state.isAdminVerified) {
                container.innerHTML = `
                    <div class="flex items-center justify-center min-h-[70vh] animate-fade-up">
                        <div class="glass p-10 rounded-3xl border border-electric/10 w-full max-w-sm mx-4 shadow-2xl">
                            <div class="w-20 h-20 gradient-primary rounded-full flex items-center justify-center mx-auto mb-8 text-white text-3xl">
                                <i class="fa-solid fa-lock"></i>
                            </div>
                            <h2 class="font-serif text-3xl text-midnight mb-4 text-center">${getTranslation('admin-access')}</h2>
                            <p class="text-slate text-center mb-8">${getTranslation('enter-passkey')}</p>
                            <form onsubmit="handleAdminLogin(event)" class="space-y-6">
                                <input type="password" id="admin-password-input" 
                                       class="w-full bg-cream border-2 border-electric/20 rounded-2xl p-5 text-midnight text-center text-lg focus:border-electric focus:ring-2 focus:ring-electric/20 outline-none mobile-tap" 
                                       placeholder="${getTranslation('passkey-placeholder')}" 
                                       required
                                       autocomplete="off">
                                <button type="submit" 
                                        class="w-full gradient-sunset text-white py-5 rounded-2xl font-bold text-sm uppercase tracking-widest hover:opacity-90 transition shadow-lg mobile-tap">
                                    <i class="fa-solid fa-key mr-3"></i>${getTranslation('unlock-dashboard')}
                                </button>
                            </form>
                        </div>
                    </div>`;
                return;
            }

            container.innerHTML = `
                <div class="container mx-auto px-4 py-8 animate-fade-up">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6">
                        <div class="flex items-center gap-4">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkxu33iPyC1P4owLKMzPJb_c-8P7p37rV01g&s" 
                                 alt="GAANYOGI Logo" 
                                 class="logo-img w-14 h-14 object-contain">
                            <div>
                                <h1 class="font-serif text-3xl md:text-4xl text-midnight mb-2">${getTranslation('admin-title')}</h1>
                                <p class="text-slate text-lg">${getTranslation('admin-subtitle')}</p>
                            </div>
                        </div>
                        <button onclick="state.isAdminVerified = false; router.navigate('admin')" 
                                class="bg-cream text-slate px-6 py-3 rounded-full text-sm font-bold uppercase tracking-wider hover:bg-electric/10 transition mobile-tap">
                            <i class="fa-solid fa-sign-out-alt mr-2"></i>${getTranslation('logout')}
                        </button>
                    </div>
                    
                    <div class="glass rounded-3xl border border-electric/10 overflow-hidden shadow-2xl">
                        <div class="p-8 border-b border-electric/10">
                            <h3 class="font-serif text-2xl text-midnight">${getTranslation('recent-bookings')}</h3>
                            <p class="text-slate text-lg">${getTranslation('admin-subtitle')}</p>
                        </div>
                        <div class="overflow-x-auto premium-scrollbar">
                            <table class="w-full text-sm text-left text-slate min-w-[800px]">
                                <thead class="text-xs text-midnight uppercase bg-cream">
                                    <tr>
                                        <th class="px-8 py-6">${getTranslation('customer')}</th>
                                        <th class="px-8 py-6">${getTranslation('service')}</th>
                                        <th class="px-8 py-6">${getTranslation('amount')}</th>
                                        <th class="px-8 py-6">${getTranslation('status')}</th>
                                        <th class="px-8 py-6">${getTranslation('date')}</th>
                                        <th class="px-8 py-6">${getTranslation('actions')}</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-table-body">
                                    <tr><td colspan="6" class="p-8 text-center text-slate">${getTranslation('loading-bookings')}</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>`;
            
            loadAdminBookings();
        }

        // Admin Functions
        function handleAdminLogin(event) {
            event.preventDefault();
            
            const input = document.getElementById('admin-password-input');
            const password = input.value;
            
            if (password === 'GAANYOGI2026') {
                state.isAdminVerified = true;
                showToast(getTranslation('toast-admin-success'), 'success');
                setTimeout(() => {
                    router.navigate('admin');
                }, 500);
            } else {
                showToast(getTranslation('toast-admin-error'), 'error');
                input.value = '';
                input.focus();
            }
        }

        async function loadAdminBookings() {
            const tableBody = document.getElementById('admin-table-body');
            if (!tableBody) return;
            
            try {
                const q = query(collection(db, 'bookings'), orderBy('timestamp', 'desc'), limit(50));
                
                onSnapshot(q, (snapshot) => {
                    if (snapshot.empty) {
                        tableBody.innerHTML = `
                            <tr>
                                <td colspan="6" class="p-8 text-center text-slate">
                                    <div class="flex flex-col items-center justify-center">
                                        <i class="fa-solid fa-inbox text-4xl text-electric/30 mb-3"></i>
                                        <p>${getTranslation('no-bookings')}</p>
                                    </div>
                                </td>
                            </tr>`;
                        return;
                    }
                    
                    tableBody.innerHTML = '';
                    
                    snapshot.forEach((doc) => {
                        const data = doc.data();
                        const date = data.timestamp?.toDate() || new Date();
                        const formattedDate = date.toLocaleDateString();
                        const formattedTime = date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                        
                        const statusColor = data.status === 'confirmed' ? 'bg-teagreen/20 text-teagreen' :
                                          data.status === 'cancelled' ? 'bg-sunset/20 text-sunset' :
                                          data.status === 'pending_payment' ? 'bg-electric/20 text-electric' :
                                          'bg-slate/20 text-slate';
                        
                        const row = document.createElement('tr');
                        row.className = 'border-b border-electric/10 hover:bg-cream/50 transition-colors';
                        row.innerHTML = `
                            <td class="px-8 py-6">
                                <div class="font-bold text-midnight">${data.customerName}</div>
                                <div class="text-sm text-slate">${data.customerPhone}</div>
                                ${data.customerEmail ? `<div class="text-xs text-slate">${data.customerEmail}</div>` : ''}
                            </td>
                            <td class="px-8 py-6">
                                <div class="font-bold text-midnight">${data.type === 'ride' ? 'üöó Ride' : 'üèõÔ∏è Tour'}</div>
                                <div class="text-sm text-slate">${data.tourName || `${data.pickupLocation} ‚Üí ${data.destination}`}</div>
                            </td>
                            <td class="px-8 py-6 font-bold text-2xl text-sunset">‚Çπ${data.amount || data.fare}</td>
                            <td class="px-8 py-6">
                                <span class="${statusColor} px-4 py-2 rounded-full text-sm font-bold uppercase tracking-wider">
                                    ${data.status || 'pending'}
                                </span>
                            </td>
                            <td class="px-8 py-6 text-slate">
                                <div class="text-sm">${formattedDate}</div>
                                <div class="text-xs">${formattedTime}</div>
                            </td>
                            <td class="px-8 py-6">
                                <div class="flex gap-3">
                                    ${data.status !== 'confirmed' ? `
                                    <button onclick="confirmBooking('${doc.id}', '${data.customerPhone}')" 
                                            class="bg-teagreen/20 text-teagreen hover:bg-teagreen hover:text-white px-4 py-2 rounded-xl text-sm font-bold transition mobile-tap">
                                        <i class="fa-solid fa-check mr-2"></i>${getTranslation('confirm')}
                                    </button>
                                    ` : ''}
                                    <button onclick="resendConfirmation('${doc.id}', '${data.customerPhone}', '${data.type}')" 
                                            class="bg-electric/20 text-electric hover:bg-electric hover:text-white px-4 py-2 rounded-xl text-sm font-bold transition mobile-tap">
                                        <i class="fa-solid fa-paper-plane mr-2"></i>${getTranslation('resend')}
                                    </button>
                                    <button onclick="deleteBooking('${doc.id}')" 
                                            class="bg-sunset/20 text-sunset hover:bg-sunset hover:text-white px-4 py-2 rounded-xl text-sm font-bold transition mobile-tap">
                                        <i class="fa-solid fa-trash mr-2"></i>${getTranslation('delete')}
                                    </button>
                                </div>
                            </td>
                        `;
                        
                        tableBody.appendChild(row);
                    });
                });
                
            } catch (error) {
                console.error('Error loading bookings:', error);
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="6" class="p-8 text-center text-slate">
                            <div class="flex flex-col items-center justify-center">
                                <i class="fa-solid fa-exclamation-triangle text-4xl text-sunset/30 mb-3"></i>
                                <p>Error loading bookings</p>
                            </div>
                        </td>
                    </tr>`;
            }
        }

        async function confirmBooking(bookingId, phone) {
            try {
                await updateDoc(doc(db, 'bookings', bookingId), {
                    status: 'confirmed'
                });
                
                showToast(getTranslation('toast-confirm-success', {phone}), 'success');
                
                const confirmMessage = `‚úÖ *BOOKING CONFIRMED* ‚úÖ

Your booking with GAANYOGI has been confirmed!

Our team will contact you shortly with further details.
For any queries, call +91 7743805933.

Thank you for choosing GAANYOGI! üöó‚ú®`;
                window.open(`https://wa.me/${phone.replace('+', '')}?text=${encodeURIComponent(confirmMessage)}`, '_blank');
                
            } catch (error) {
                console.error('Error confirming booking:', error);
                showToast('Error confirming booking', 'error');
            }
        }

        async function resendConfirmation(bookingId, phone, type) {
            try {
                const message = type === 'ride' 
                    ? `üöó *RIDE BOOKING REMINDER* üöó

Your ride booking with GAANYOGI is confirmed!

Our chauffeur will contact you 30 minutes before pickup.
For any changes, call +91 7743805933.

Thank you for choosing GAANYOGI! ‚ú®`
                    : `üèõÔ∏è *TOUR BOOKING REMINDER* üèõÔ∏è

Your tour package with GAANYOGI is confirmed!

Detailed itinerary will be shared 24 hours before departure.
For any queries, call +91 7743805933.

Thank you for choosing GAANYOGI! ‚ú®`;
                
                window.open(`https://wa.me/${phone.replace('+', '')}?text=${encodeURIComponent(message)}`, '_blank');
                
                showToast(getTranslation('toast-resend-success', {phone}), 'success');
                
            } catch (error) {
                console.error('Error resending confirmation:', error);
                showToast('Error resending confirmation', 'error');
            }
        }

        async function deleteBooking(bookingId) {
            if (!confirm('Are you sure you want to delete this booking?')) return;
            
            try {
                await deleteDoc(doc(db, 'bookings', bookingId));
                showToast(getTranslation('toast-delete-success'), 'success');
            } catch (error) {
                console.error('Error deleting booking:', error);
                showToast('Error deleting booking', 'error');
            }
        }

        // UI Functions
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            if (menu) {
                menu.classList.toggle('hidden');
                if (!menu.classList.contains('hidden')) {
                    menu.classList.add('animate-fade-up');
                }
            }
        }

        function toggleChat() {
            const chatWindow = document.getElementById('chat-window');
            if (chatWindow) {
                chatWindow.classList.toggle('hidden');
                if (!chatWindow.classList.contains('hidden')) {
                    chatWindow.classList.add('animate-fade-up');
                    document.getElementById('chat-input').focus();
                }
            }
        }

        function showToast(message, type = 'info', duration = 4000) {
            const container = document.getElementById('toast-container');
            if (!container) return;
            
            const toastId = 'toast-' + Date.now();
            const bgColor = type === 'success' ? 'bg-gradient-to-r from-teagreen to-electric' : 
                           type === 'error' ? 'bg-gradient-to-r from-sunset to-melon' : 
                           'bg-gradient-to-r from-electric to-teagreen';
            
            const toast = document.createElement('div');
            toast.id = toastId;
            toast.className = `${bgColor} text-white text-sm py-4 px-6 rounded-2xl shadow-2xl animate-fade-up pointer-events-auto max-w-[320px] backdrop-blur-sm`;
            toast.innerHTML = `
                <div class="flex items-center justify-between gap-4">
                    <div class="flex-1">
                        <div class="flex items-center gap-3">
                            <i class="fa-solid fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                            <div>${message}</div>
                        </div>
                    </div>
                    <button onclick="document.getElementById('${toastId}').remove()" 
                            class="text-white/80 hover:text-white mobile-tap">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>
            `;
            
            container.appendChild(toast);
            
            setTimeout(() => {
                const t = document.getElementById(toastId);
                if (t) {
                    t.style.opacity = '0';
                    t.style.transform = 'translateX(100%)';
                    setTimeout(() => t.remove(), 300);
                }
            }, duration);
        }

        // Chat Functions
        function quickChatSuggestion(suggestion) {
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.value = suggestion;
                handleChatSend();
            }
        }

        async function handleChatSend() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            const messagesDiv = document.getElementById('chat-messages');
            
            // Add user message
            const userMessageDiv = document.createElement('div');
            userMessageDiv.className = 'flex justify-end animate-fade-up';
            userMessageDiv.innerHTML = `
                <div class="bg-electric text-white p-4 rounded-2xl rounded-br-none max-w-[85%] shadow-sm">
                    ${message}
                </div>
            `;
            messagesDiv.appendChild(userMessageDiv);
            
            input.value = '';
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            
            // Show typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.className = 'flex justify-start';
            typingDiv.innerHTML = `
                <div class="bg-white p-3 rounded-2xl rounded-tl-none border border-electric/20 flex items-center gap-2">
                    <div class="loader w-3 h-3 border-electric/20 border-t-electric"></div>
                    <div class="loader w-3 h-3 border-electric/20 border-t-electric" style="animation-delay: 0.2s"></div>
                    <div class="loader w-3 h-3 border-electric/20 border-t-electric" style="animation-delay: 0.4s"></div>
                </div>
            `;
            messagesDiv.appendChild(typingDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            
            setTimeout(() => {
                typingDiv.remove();
                
                let response = "Thank you for your message! For booking inquiries, please use the booking form or call our concierge desk at +91 7743805933.";
                
                const lowerMessage = message.toLowerCase();
                
                if (lowerMessage.includes('tour') || lowerMessage.includes('package')) {
                    response = "We offer curated luxury tours across India. You can view all our tour packages on the Tours page. Popular destinations include Hampi, Srisailam, Pune, and Kerala backwaters.";
                } else if (lowerMessage.includes('ride') || lowerMessage.includes('car') || lowerMessage.includes('book')) {
                    response = "You can book a ride by visiting the 'Book Ride' page. We offer fixed-rate routes and custom journeys with luxury vehicles. Rates start at ‚Çπ12/km for non-AC cars and go up to ‚Çπ18/km for AC cruisers.";
                } else if (lowerMessage.includes('price') || lowerMessage.includes('cost') || lowerMessage.includes('rate')) {
                    response = "Our pricing is transparent! Car: ‚Çπ12-14/km, Cruiser: ‚Çπ16-18/km. Minimum fare applies. Check the pricing table on the homepage for popular routes.";
                } else if (lowerMessage.includes('contact') || lowerMessage.includes('call') || lowerMessage.includes('whatsapp')) {
                    response = "Contact our concierge desk: üìû +91 7743805933 (WhatsApp available) üìß gaanyogitours@gmail.com";
                } else if (lowerMessage.includes('location') || lowerMessage.includes('where') || lowerMessage.includes('solapur')) {
                    response = "We're based in Solapur, Maharashtra and serve routes across India including Mumbai, Hyderabad, Pune, and popular pilgrimage destinations like Akkalkot, Pandharpur, and Tuljapur.";
                } else if (lowerMessage.includes('payment') || lowerMessage.includes('upi') || lowerMessage.includes('pay')) {
                    response = "We accept UPI payments to gaanyogitours@okicici. After payment, please send the screenshot to WhatsApp +91 7743805933 for confirmation.";
                }
                
                const aiMessageDiv = document.createElement('div');
                aiMessageDiv.className = 'flex justify-start animate-fade-up';
                aiMessageDiv.innerHTML = `
                    <div class="bg-white p-4 rounded-2xl rounded-tl-none border border-electric/20 max-w-[85%] text-midnight shadow-sm">
                        ${response}
                    </div>
                `;
                messagesDiv.appendChild(aiMessageDiv);
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            }, 1500);
        }

        // Initialize Application
        window.addEventListener('DOMContentLoaded', async () => {
            const savedLang = localStorage.getItem('gaanyogi-language') || 'en';
            state.currentLanguage = savedLang;
            
            await initAuth();
            updateAllText();
            initGoogleMaps();
            
            router.navigate('home');
            
            // Language dropdown
            const langBtn = document.getElementById('language-dropdown-btn');
            const langDropdown = document.getElementById('language-dropdown');
            
            if (langBtn && langDropdown) {
                langBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    langDropdown.classList.toggle('hidden');
                });
                
                document.addEventListener('click', (e) => {
                    if (!langBtn.contains(e.target) && !langDropdown.contains(e.target)) {
                        langDropdown.classList.add('hidden');
                    }
                });
            }
            
            // Chat input enter key
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        handleChatSend();
                    }
                });
            }
        });

        // Expose functions to global scope
        window.router = router;
        window.changeLanguage = changeLanguage;
        window.toggleMobileMenu = toggleMobileMenu;
        window.toggleChat = toggleChat;
        window.calculateRideDistance = calculateRideDistance;
        window.bookOffer = bookOffer;
        window.goToStep = goToStep;
        window.selectVehicle = selectVehicle;
        window.validateStep1 = validateStep1;
        window.validateStep4 = validateStep4;
        window.submitRideBooking = submitRideBooking;
        window.handleTourBookingSubmit = handleTourBookingSubmit;
        window.handleAdminLogin = handleAdminLogin;
        window.confirmBooking = confirmBooking;
        window.resendConfirmation = resendConfirmation;
        window.deleteBooking = deleteBooking;
        window.handleChatSend = handleChatSend;
        window.quickChatSuggestion = quickChatSuggestion;
    </script>
</body>
</html>
